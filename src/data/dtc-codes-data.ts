export interface DTCCode {
    code: string;
    title: string;
    description: string;
    severity: 'low' | 'medium' | 'high' | 'critical';
    affectedSystem: string;
    symptoms: string[];
    commonCauses: { cause: string; likelihood: 'likely' | 'possible' | 'unlikely' }[];
    diagnosticSteps: string[];
    commonFix: string;
    estimatedCostRange: string;
    relatedCodes: string[];
    repairTaskSlug?: string;
    faq: { q: string; a: string }[];
}

/** Helper to build a code entry concisely */
function c(code: string, title: string, desc: string, sev: DTCCode['severity'], sys: string, symp: string[], causes: [string, 'likely' | 'possible' | 'unlikely'][], steps: string[], fix: string, cost: string, related: string[], slug?: string, faq?: [string, string][]): DTCCode {
    return {
        code, title, description: desc, severity: sev, affectedSystem: sys, symptoms: symp,
        commonCauses: causes.map(([cause, likelihood]) => ({ cause, likelihood })),
        diagnosticSteps: steps, commonFix: fix, estimatedCostRange: cost, relatedCodes: related,
        ...(slug ? { repairTaskSlug: slug } : {}),
        faq: (faq || []).map(([q, a]) => ({ q, a })),
    };
}

export const DTC_CODES: DTCCode[] = [
// ═══ VVT / CAMSHAFT / CRANKSHAFT (P0010-P0022) ═══
c('P0010', 'Intake Camshaft Position Actuator Circuit (Bank 1)', 'The engine computer cannot control the variable valve timing solenoid on bank 1. This affects engine performance and fuel economy. Usually caused by a faulty VVT solenoid or wiring issue.', 'medium', 'Engine', ['Check engine light', 'Rough idle', 'Reduced fuel economy', 'Engine hesitation'], [['Faulty VVT solenoid', 'likely'], ['Wiring issue to solenoid', 'possible'], ['Low oil level or dirty oil', 'possible'], ['ECM failure', 'unlikely']], ['Check engine oil level and condition', 'Inspect VVT solenoid wiring for damage', 'Test VVT solenoid resistance', 'Check oil pressure'], 'Replace VVT solenoid', '$25 - $120', ['P0011', 'P0012', 'P0013'], 'timing-chain-replacement', [['What does P0010 mean?', 'P0010 means the ECM detected a problem with the intake camshaft position actuator circuit on bank 1. It usually points to a bad VVT solenoid or wiring issue.'], ['Can I drive with P0010?', 'You can drive short distances but the engine may idle roughly and use more fuel. Get it fixed soon to prevent potential timing damage.']]),

c('P0011', 'Intake Camshaft Position Timing Over-Advanced (Bank 1)', 'The intake camshaft on bank 1 is more advanced than the ECM commanded. This typically means the VVT system is stuck or the oil flow is restricted. Often caused by dirty oil or a stuck VVT solenoid.', 'medium', 'Engine', ['Rough idle', 'Poor fuel economy', 'Engine stalling', 'Hard starting'], [['Dirty or low engine oil', 'likely'], ['Stuck VVT solenoid', 'likely'], ['Stretched timing chain', 'possible'], ['Clogged oil passages', 'possible']], ['Check oil level and condition — change if overdue', 'Inspect VVT solenoid for sludge', 'Check timing chain tension', 'Scan for related codes'], 'Oil change and VVT solenoid replacement', '$30 - $150', ['P0010', 'P0012', 'P0014'], 'oil-change', [['Is P0011 serious?', 'P0011 is moderately serious. If caused by low oil, fix immediately to prevent engine damage. A stuck solenoid should be replaced within a week.'], ['Can an oil change fix P0011?', 'Yes, in many cases a fresh oil change clears P0011 if the cause was dirty or low oil restricting the VVT system.']]),

c('P0012', 'Intake Camshaft Position Timing Over-Retarded (Bank 1)', 'The intake camshaft on bank 1 is more retarded than commanded by the ECM. This reduces engine performance and efficiency. Often related to oil viscosity issues or a failing VVT actuator.', 'medium', 'Engine', ['Loss of power', 'Poor fuel economy', 'Rough idle', 'Failed emissions test'], [['Low or dirty engine oil', 'likely'], ['Faulty VVT solenoid', 'likely'], ['Worn timing chain', 'possible'], ['Incorrect oil viscosity', 'possible']], ['Verify oil level and condition', 'Check VVT solenoid operation', 'Inspect timing chain for stretch', 'Verify correct oil viscosity is being used'], 'Replace VVT solenoid and change oil', '$30 - $150', ['P0010', 'P0011', 'P0013'], 'oil-change', [['What causes P0012?', 'P0012 is most commonly caused by dirty or low engine oil, a failing VVT solenoid, or a stretched timing chain.'], ['Can I drive with P0012?', 'You can drive but expect reduced power and worse fuel economy. Fix it promptly to avoid potential timing chain issues.']]),

c('P0013', 'Exhaust Camshaft Position Actuator Circuit (Bank 1)', 'The ECM detected a fault in the exhaust camshaft VVT solenoid circuit on bank 1. This solenoid controls exhaust valve timing for optimal performance and emissions.', 'medium', 'Engine', ['Check engine light', 'Rough idle', 'Reduced performance', 'Poor fuel economy'], [['Faulty exhaust VVT solenoid', 'likely'], ['Wiring damage', 'possible'], ['Low oil pressure', 'possible'], ['ECM fault', 'unlikely']], ['Inspect VVT solenoid connector and wiring', 'Test solenoid resistance with multimeter', 'Check oil level and pressure', 'Clear code and test drive'], 'Replace exhaust VVT solenoid', '$25 - $120', ['P0010', 'P0014', 'P0011'], 'timing-chain-replacement', [['What is a VVT solenoid?', 'A VVT (Variable Valve Timing) solenoid controls oil flow to the camshaft actuator, adjusting valve timing for better performance and fuel economy.'], ['How much to fix P0013?', 'DIY cost is $25-$120 for the solenoid. A mechanic may charge $150-$300 including labor.']]),

c('P0014', 'Exhaust Camshaft Position Timing Over-Advanced (Bank 1)', 'The exhaust camshaft on bank 1 is more advanced than the ECM expects. Usually caused by sludged oil blocking the VVT actuator or a stuck solenoid.', 'medium', 'Engine', ['Rough idle', 'Stalling', 'Hard starting', 'Reduced power'], [['Dirty engine oil', 'likely'], ['Stuck VVT solenoid', 'likely'], ['Worn timing chain', 'possible'], ['Blocked oil passage', 'possible']], ['Change engine oil if overdue', 'Test VVT solenoid', 'Check for sludge in oil passages', 'Inspect timing chain'], 'Oil change and VVT solenoid replacement', '$30 - $150', ['P0011', 'P0013', 'P0012'], 'oil-change', [['Will P0014 cause damage?', 'If left unfixed, P0014 can lead to poor performance and potential timing chain wear. Fix the underlying oil or solenoid issue promptly.'], ['Can dirty oil cause P0014?', 'Yes, dirty oil is the #1 cause. Sludge blocks the VVT solenoid and passages, preventing proper camshaft timing.']]),

c('P0016', 'Crankshaft Position - Camshaft Position Correlation (Bank 1 Sensor A)', 'The crankshaft and intake camshaft positions are not synchronized on bank 1. This indicates a timing problem that can cause rough running or no-start conditions.', 'high', 'Engine', ['Rough idle', 'Engine misfires', 'Hard starting or no start', 'Rattling noise from engine'], [['Stretched timing chain', 'likely'], ['Failed timing chain tensioner', 'possible'], ['Faulty camshaft or crankshaft sensor', 'possible'], ['Jumped timing chain', 'unlikely']], ['Listen for timing chain rattle on cold start', 'Compare cam and crank sensor signals with scan tool', 'Inspect timing chain tensioner', 'Check VVT solenoid function'], 'Replace timing chain and tensioner', '$150 - $500', ['P0017', 'P0011', 'P0335'], 'timing-chain-replacement', [['Is P0016 serious?', 'Yes, P0016 can indicate a stretched or jumped timing chain. If the engine rattles on startup, get it checked immediately to prevent catastrophic engine damage.'], ['Can a sensor cause P0016?', 'Yes, a faulty camshaft or crankshaft position sensor can trigger P0016. Sensor replacement is much cheaper than timing chain work.']]),

c('P0017', 'Crankshaft Position - Camshaft Position Correlation (Bank 1 Sensor B)', 'The crankshaft and exhaust camshaft positions on bank 1 are out of sync. Similar to P0016 but for the exhaust cam. Often points to timing chain issues.', 'high', 'Engine', ['Engine rattle on startup', 'Rough running', 'Loss of power', 'Hard starting'], [['Worn timing chain', 'likely'], ['Failed chain tensioner or guide', 'possible'], ['Bad exhaust cam sensor', 'possible'], ['Oil starvation to VVT', 'possible']], ['Check for chain rattle noise', 'Scan cam/crank sensor correlation', 'Check oil level and condition', 'Inspect chain tensioner'], 'Replace timing chain kit', '$150 - $500', ['P0016', 'P0014', 'P0013'], 'timing-chain-replacement', [['What does P0017 mean?', 'P0017 means the exhaust camshaft and crankshaft are out of sync on bank 1. Most commonly caused by a stretched timing chain.'], ['How urgent is P0017?', 'Fairly urgent — if the timing chain skips a tooth, it can cause severe engine damage. Get it diagnosed within a few days.']]),

c('P0021', 'Intake Camshaft Position Timing Over-Advanced (Bank 2)', 'Same as P0011 but on bank 2 (the opposite cylinder bank on V-engines). The intake cam is too far advanced due to oil or VVT solenoid issues.', 'medium', 'Engine', ['Rough idle', 'Poor fuel economy', 'Loss of power', 'Check engine light'], [['Low or dirty oil', 'likely'], ['Faulty bank 2 VVT solenoid', 'likely'], ['Timing chain stretch', 'possible'], ['Clogged oil gallery', 'possible']], ['Check oil level and change if dirty', 'Test bank 2 VVT solenoid', 'Inspect timing components', 'Compare bank 1 vs bank 2 cam timing'], 'Replace VVT solenoid bank 2', '$30 - $150', ['P0011', 'P0022', 'P0014'], 'oil-change', [['Is P0021 different from P0011?', 'P0021 is the same problem as P0011 but on bank 2 (opposite side of V-engine). The fix is the same — check oil and VVT solenoid.'], ['Can I drive with P0021?', 'Yes, but fix within a week. Engine performance will be reduced and fuel economy suffers.']]),

c('P0022', 'Intake Camshaft Position Timing Over-Retarded (Bank 2)', 'The intake cam on bank 2 is behind where it should be. Typically dirty oil or a failing VVT solenoid on the bank 2 side.', 'medium', 'Engine', ['Reduced engine power', 'Poor idle quality', 'Decreased fuel economy', 'Check engine light'], [['Dirty or old engine oil', 'likely'], ['Failed VVT solenoid bank 2', 'likely'], ['Worn timing chain', 'possible'], ['Wrong oil viscosity', 'possible']], ['Change oil if overdue', 'Test VVT solenoid resistance and operation', 'Check for timing chain noise', 'Verify oil filter is not clogged'], 'Oil change and VVT solenoid replacement', '$30 - $150', ['P0012', 'P0021', 'P0013'], 'oil-change', [['What causes P0022?', 'Most commonly dirty oil that restricts the VVT solenoid. An oil change often resolves it.'], ['Is P0022 expensive to fix?', 'Usually not. An oil change ($30-$60) may fix it. If the VVT solenoid needs replacing, add $25-$90 for the part.']]),

// ═══ O2 SENSOR HEATER CIRCUITS (P0030-P0037) ═══
c('P0030', 'HO2S Heater Control Circuit (Bank 1, Sensor 1)', 'The oxygen sensor heater circuit on the upstream (pre-cat) sensor of bank 1 has a fault. The heater gets the O2 sensor to operating temperature quickly for proper fuel trim.', 'low', 'Emissions', ['Check engine light', 'Slightly increased fuel consumption', 'Failed emissions test', 'Longer warm-up period'], [['Failed O2 sensor heater element', 'likely'], ['Blown fuse for O2 heater circuit', 'possible'], ['Wiring damage to sensor', 'possible'], ['ECM driver circuit failure', 'unlikely']], ['Check O2 heater fuse', 'Measure heater circuit resistance', 'Inspect wiring to sensor', 'Test with scan tool live data'], 'Replace upstream O2 sensor bank 1', '$30 - $100', ['P0031', 'P0135', 'P0036'], 'oxygen-sensor-replacement', [['Can I drive with P0030?', 'Yes, it is safe to drive. The only effect is slightly worse fuel economy during warm-up and a failed emissions test.'], ['How do I fix P0030?', 'Check the O2 heater fuse first. If the fuse is good, the O2 sensor heater has failed and the sensor needs replacement.']]),

c('P0031', 'HO2S Heater Control Circuit Low (Bank 1, Sensor 1)', 'The O2 sensor heater circuit voltage is lower than expected on the upstream bank 1 sensor. Usually means an open circuit in the heater element.', 'low', 'Emissions', ['Check engine light', 'Poor fuel economy when cold', 'Higher emissions', 'Slow O2 sensor response'], [['Burned-out O2 sensor heater', 'likely'], ['Corroded connector', 'possible'], ['Broken wire to O2 sensor', 'possible'], ['Blown heater fuse', 'possible']], ['Check fuse and relay for O2 heater', 'Inspect connector for corrosion', 'Measure heater element resistance', 'Check for power and ground at sensor'], 'Replace O2 sensor', '$30 - $100', ['P0030', 'P0135', 'P0032'], 'oxygen-sensor-replacement', [['What does P0031 mean?', 'P0031 means the upstream O2 sensor heater on bank 1 has low voltage — usually a burned-out heater inside the sensor.'], ['Is P0031 a cheap fix?', 'Yes, O2 sensors cost $30-$100 DIY. It is one of the easier sensor replacements.']]),

c('P0036', 'HO2S Heater Control Circuit (Bank 1, Sensor 2)', 'The heater circuit for the downstream (post-cat) O2 sensor on bank 1 has failed. This sensor monitors catalytic converter efficiency.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test', 'No noticeable driveability issues', 'Possible false P0420 code'], [['Failed O2 sensor heater', 'likely'], ['Wiring damage from exhaust heat', 'possible'], ['Blown fuse', 'possible'], ['Connector corrosion', 'possible']], ['Check O2 heater fuse', 'Inspect downstream sensor wiring for heat damage', 'Measure heater resistance', 'Replace sensor if heater open-circuit'], 'Replace downstream O2 sensor bank 1', '$25 - $80', ['P0037', 'P0141', 'P0030'], 'oxygen-sensor-replacement', [['Does P0036 affect performance?', 'No, the downstream O2 sensor only monitors the catalytic converter. You will not notice any driveability change.'], ['Can P0036 cause P0420?', 'Yes, a faulty downstream sensor can give false P0420 readings. Fix P0036 first and see if P0420 clears.']]),

c('P0037', 'HO2S Heater Control Circuit Low (Bank 1, Sensor 2)', 'Low voltage in the downstream O2 sensor heater on bank 1. The heater element has likely burned out.', 'low', 'Emissions', ['Check engine light', 'Failed emissions', 'No performance symptoms', 'Possible false cat efficiency code'], [['Burned-out heater element', 'likely'], ['Open wire in heater circuit', 'possible'], ['Corroded sensor connector', 'possible'], ['Blown fuse', 'possible']], ['Check heater fuse', 'Measure heater resistance (should be 2-30 ohms)', 'Inspect wiring', 'Replace sensor if heater is open'], 'Replace downstream O2 sensor', '$25 - $80', ['P0036', 'P0141', 'P0031'], 'oxygen-sensor-replacement', [['What is the difference between P0036 and P0037?', 'P0036 is a general heater circuit fault; P0037 specifically means the voltage is low (open circuit). Both usually need a sensor replacement.'], ['How long can I drive with P0037?', 'Indefinitely — there are no driveability effects. However, it will cause emissions test failure.']]),

// ═══ MAF / MAP / AIR FLOW (P0100-P0113) ═══
c('P0101', 'Mass Air Flow Sensor Circuit Range/Performance', 'The MAF sensor is reading outside the expected range for current engine conditions. Could be dirty, defective, or have an air leak after the sensor.', 'medium', 'Fuel', ['Rough idle', 'Hesitation on acceleration', 'Poor fuel economy', 'Black smoke from exhaust'], [['Dirty MAF sensor element', 'likely'], ['Air leak after MAF sensor', 'likely'], ['Faulty MAF sensor', 'possible'], ['Clogged air filter', 'possible']], ['Inspect and clean MAF sensor with MAF cleaner spray', 'Check for vacuum leaks between MAF and throttle body', 'Inspect air filter and intake duct', 'Test MAF readings with scan tool at idle and 2500 RPM'], 'Clean MAF sensor with MAF cleaner', '$8 - $15', ['P0102', 'P0103', 'P0171'], 'mass-air-flow-sensor-replacement', [['Can I clean a MAF sensor?', 'Yes — use only dedicated MAF sensor cleaner spray. Never touch the sensor element. Cleaning fixes P0101 about 70% of the time.'], ['What happens if I ignore P0101?', 'Poor fuel economy, rough running, and potential damage to the catalytic converter from incorrect fuel mixture.']]),

c('P0102', 'Mass Air Flow Sensor Circuit Low Input', 'The MAF sensor is reporting lower airflow than expected. The engine thinks less air is entering than actually is, causing a lean condition.', 'medium', 'Fuel', ['Stalling', 'Hard starting', 'Loss of power', 'Lean misfire'], [['Failed MAF sensor', 'likely'], ['Vacuum leak', 'possible'], ['Restricted air filter', 'possible'], ['Wiring issue to MAF', 'possible']], ['Check MAF sensor connector', 'Clean MAF sensor', 'Inspect air filter', 'Check for disconnected vacuum hose'], 'Replace MAF sensor', '$40 - $150', ['P0101', 'P0103', 'P0171'], 'mass-air-flow-sensor-replacement', [['Is P0102 the same as P0101?', 'P0102 specifically means low airflow reading, while P0101 is out-of-range. P0102 usually means the sensor has failed rather than just being dirty.'], ['Can I drive with P0102?', 'The car may stall or run very poorly. Drive only if necessary and get it fixed quickly.']]),

c('P0103', 'Mass Air Flow Sensor Circuit High Input', 'The MAF sensor is reading higher than expected airflow. This causes the engine to run rich. Could be a sensor fault or an intake leak.', 'medium', 'Fuel', ['Rich running (black exhaust)', 'Poor fuel economy', 'Check engine light', 'Rough idle'], [['Faulty MAF sensor', 'likely'], ['Short circuit in MAF wiring', 'possible'], ['Air leak in intake boot', 'possible'], ['Aftermarket air filter issue', 'possible']], ['Inspect MAF sensor connector', 'Check intake duct for cracks', 'Clean MAF sensor', 'Test MAF output with scan tool'], 'Replace MAF sensor', '$40 - $150', ['P0101', 'P0102', 'P0172'], 'mass-air-flow-sensor-replacement', [['What causes P0103?', 'Usually a failed MAF sensor or a short in the sensor wiring. Sometimes caused by an oiled aftermarket air filter contaminating the sensor element.'], ['Can an oiled air filter cause P0103?', 'Yes — oiled aftermarket filters (like some K&N filters) can contaminate the MAF sensor wire, causing false high readings.']]),

c('P0106', 'MAP/BARO Sensor Circuit Range/Performance', 'The MAP (Manifold Absolute Pressure) sensor is reading outside normal range. Affects fuel delivery and ignition timing calculations.', 'medium', 'Fuel', ['Rough idle', 'Poor acceleration', 'Black smoke', 'Stalling'], [['Vacuum leak', 'likely'], ['Faulty MAP sensor', 'possible'], ['Clogged MAP sensor port', 'possible'], ['Wiring issue', 'unlikely']], ['Check vacuum hose to MAP sensor', 'Clean MAP sensor port', 'Test MAP sensor output with scan tool', 'Check for vacuum leaks'], 'Replace MAP sensor or fix vacuum leak', '$20 - $80', ['P0107', 'P0108', 'P0171'], undefined, [['What is a MAP sensor?', 'The MAP sensor measures intake manifold vacuum to help the ECM calculate fuel injection and ignition timing.'], ['Can I clean a MAP sensor?', 'Yes, you can clean the sensor port with electronics cleaner. A clogged port is a common cause of P0106.']]),

c('P0107', 'MAP/BARO Sensor Circuit Low Input', 'MAP sensor voltage is below the expected minimum. The ECM sees this as extremely high vacuum, causing incorrect fuel calculations.', 'medium', 'Fuel', ['Rich running', 'Black exhaust smoke', 'High idle', 'Poor fuel economy'], [['Faulty MAP sensor', 'likely'], ['Short in sensor wiring', 'possible'], ['Bad ground connection', 'possible'], ['ECM issue', 'unlikely']], ['Check sensor wiring and connector', 'Measure MAP sensor output voltage', 'Verify reference voltage (5V)', 'Replace sensor if output stuck low'], 'Replace MAP sensor', '$20 - $80', ['P0106', 'P0108'], undefined, [['What does P0107 mean?', 'P0107 means the MAP sensor voltage is too low. Usually a failed sensor or wiring problem.'], ['Is P0107 expensive to fix?', 'No — MAP sensors cost $20-$80 and are usually easy to replace.']]),

c('P0108', 'MAP/BARO Sensor Circuit High Input', 'MAP sensor voltage is higher than maximum expected range. The ECM reads this as very low vacuum.', 'medium', 'Fuel', ['Lean running', 'Loss of power', 'Surging at idle', 'Check engine light'], [['Faulty MAP sensor', 'likely'], ['Open circuit in signal wire', 'possible'], ['Large vacuum leak', 'possible'], ['Damaged connector', 'possible']], ['Check MAP sensor connector', 'Measure sensor output voltage with KOEO', 'Check signal wire for open circuit', 'Replace sensor if stuck high'], 'Replace MAP sensor', '$20 - $80', ['P0106', 'P0107'], undefined, [['Can a vacuum leak cause P0108?', 'Yes, a large vacuum leak can cause MAP readings to stay high (near atmospheric pressure), triggering P0108.'], ['How do I test a MAP sensor?', 'With ignition on, MAP sensor should read about 4.5V at atmospheric pressure and drop to 1-2V at idle vacuum.']]),

c('P0110', 'Intake Air Temperature Sensor Circuit', 'The IAT sensor circuit has a fault. This sensor measures incoming air temperature for fuel calculations.', 'low', 'Fuel', ['Check engine light', 'Slightly rough running', 'Poor fuel economy', 'Hard starting in cold weather'], [['Faulty IAT sensor', 'likely'], ['Corroded connector', 'possible'], ['Wiring issue', 'possible'], ['Dirty air filter affecting sensor', 'unlikely']], ['Inspect IAT sensor connector', 'Measure sensor resistance vs temperature', 'Check 5V reference and ground', 'Replace if out of spec'], 'Replace IAT sensor', '$10 - $30', ['P0112', 'P0113', 'P0101'], 'engine-air-filter-replacement', [['Where is the IAT sensor?', 'The IAT sensor is usually in the intake duct between the air filter and throttle body, or built into the MAF sensor.'], ['Can I drive with P0110?', 'Yes, the ECM uses a default value. You may notice slightly off fuel economy.']]),

c('P0112', 'Intake Air Temperature Sensor Circuit Low', 'IAT sensor voltage is too low, indicating impossibly high air temperature. Usually a short circuit in the sensor or wiring.', 'low', 'Fuel', ['Check engine light', 'Slightly rich running', 'Decreased fuel economy'], [['Shorted IAT sensor', 'likely'], ['Short in wiring', 'possible'], ['Corroded connector', 'possible']], ['Disconnect sensor — if code changes to P0113, sensor is bad', 'Check wiring for shorts to ground', 'Measure sensor resistance', 'Replace sensor'], 'Replace IAT sensor', '$10 - $30', ['P0110', 'P0113'], undefined, [['What does low IAT reading mean?', 'Low voltage means the ECM thinks the air is very hot, so it trims fuel delivery. Usually a sensor fault.'], ['How to test IAT sensor?', 'Measure resistance — should be ~2-3K ohms at 70°F. Much lower indicates a short.']]),

c('P0113', 'Intake Air Temperature Sensor Circuit High', 'IAT sensor voltage is above maximum range, reading as extremely cold air. Usually an open circuit.', 'low', 'Fuel', ['Check engine light', 'Slightly lean running', 'Poor cold-start performance'], [['Open circuit in IAT wiring', 'likely'], ['Failed IAT sensor (open)', 'likely'], ['Disconnected connector', 'possible']], ['Check IAT connector is plugged in', 'Measure sensor resistance', 'Check continuity of wiring', 'Replace sensor if open-circuit'], 'Replace IAT sensor or repair wiring', '$10 - $30', ['P0110', 'P0112'], undefined, [['Is P0113 serious?', 'Not very. The ECM uses a default temperature. You may notice poor cold-start or slightly off fuel economy.'], ['Can a disconnected sensor cause P0113?', 'Yes — P0113 often means the sensor connector simply came unplugged. Check it first.']]),

// ═══ COOLANT TEMP SENSOR (P0115-P0128) ═══
c('P0115', 'Engine Coolant Temperature Sensor Circuit', 'The ECT sensor circuit has a general malfunction. This sensor tells the ECM how warm the engine is for fuel, timing, and fan control.', 'medium', 'Cooling', ['Check engine light', 'Electric fans running constantly or not at all', 'Poor fuel economy', 'Hard cold starting'], [['Faulty ECT sensor', 'likely'], ['Corroded connector', 'possible'], ['Wiring damage', 'possible'], ['Thermostat stuck (incorrect actual temp)', 'possible']], ['Check ECT sensor connector', 'Measure sensor resistance vs actual temp', 'Inspect wiring for damage', 'Compare ECT reading to IAT reading on cold start (should be similar)'], 'Replace ECT sensor', '$10 - $25', ['P0116', 'P0117', 'P0118'], 'thermostat-replacement', [['What happens if the coolant temp sensor fails?', 'The ECM cannot properly manage fuel mixture, fan operation, and idle speed. You may get poor fuel economy and the engine may run rough.'], ['Are ECT sensors easy to replace?', 'Usually yes — they screw into the engine block or intake manifold. Drain some coolant first.']]),

c('P0116', 'Engine Coolant Temperature Sensor Range/Performance', 'The ECT sensor reading is not changing as expected during warm-up. Either the sensor is lazy or the thermostat is preventing normal warm-up.', 'medium', 'Cooling', ['Slow warm-up', 'Temperature gauge stays low', 'Poor heater output', 'Increased fuel consumption'], [['Stuck-open thermostat', 'likely'], ['Faulty ECT sensor', 'possible'], ['Air pocket in cooling system', 'possible'], ['Wrong thermostat temperature rating', 'unlikely']], ['Monitor ECT temperature rise during warm-up', 'Compare ECT to infrared thermometer reading', 'Check thermostat operation', 'Inspect for air in cooling system'], 'Replace thermostat', '$15 - $40', ['P0115', 'P0128', 'P0117'], 'thermostat-replacement', [['Is P0116 the thermostat or the sensor?', 'Most commonly the thermostat is stuck open. If the engine truly does not reach operating temp, replace the thermostat first.'], ['How long should warm-up take?', 'A healthy engine should reach 190-210°F within 5-10 minutes of driving. If it takes longer, the thermostat is likely stuck open.']]),

c('P0117', 'Engine Coolant Temperature Sensor Circuit Low', 'ECT sensor voltage is too low, indicating an impossibly high temperature. Usually a shorted sensor.', 'medium', 'Cooling', ['Fans running at max speed constantly', 'Rich fuel mixture', 'Check engine light', 'Temp gauge pegged high'], [['Shorted ECT sensor', 'likely'], ['Short in sensor wiring', 'possible'], ['Corroded connector pins', 'possible']], ['Disconnect sensor — fans should stop, gauge should change', 'Measure sensor resistance', 'Check wiring for shorts to ground', 'Replace sensor'], 'Replace ECT sensor', '$10 - $25', ['P0115', 'P0118', 'P0116'], undefined, [['Why are my fans always on with P0117?', 'The shorted sensor tells the ECM the engine is overheating, so it runs the fans at max. The engine is likely at normal temperature.'], ['Can P0117 cause overheating?', 'No — it makes the ECM think the engine is hot, but actual temperature is fine. However, always verify with an IR thermometer.']]),

c('P0118', 'Engine Coolant Temperature Sensor Circuit High', 'ECT sensor voltage is above maximum, reading as extremely cold. Usually an open sensor circuit.', 'medium', 'Cooling', ['Fans never turning on', 'Rich running when cold', 'Poor cold-start idle', 'Check engine light'], [['Open circuit ECT sensor', 'likely'], ['Disconnected sensor connector', 'likely'], ['Broken wire', 'possible']], ['Check ECT connector is plugged in', 'Measure sensor resistance', 'Check wiring continuity', 'Replace sensor if open'], 'Replace ECT sensor or repair connection', '$10 - $25', ['P0115', 'P0117', 'P0116'], undefined, [['Will P0118 prevent fans from running?', 'Yes — the ECM thinks the engine is cold, so it will not activate the cooling fans. This can lead to actual overheating. Fix immediately.'], ['Is P0118 dangerous?', 'Potentially yes — if the fans do not run, the engine can overheat in traffic. Fix right away.']]),

c('P0120', 'Throttle Position Sensor A Circuit', 'General fault in the TPS circuit. The TPS tells the ECM how far the throttle is open.', 'high', 'Fuel', ['Erratic idle', 'Hesitation on acceleration', 'Surging', 'Reduced power mode'], [['Faulty TPS', 'likely'], ['Corroded TPS connector', 'possible'], ['Wiring issue', 'possible'], ['Worn throttle body', 'possible']], ['Check TPS connector for corrosion', 'Sweep TPS with scan tool — look for dropouts', 'Measure TPS voltage at closed and WOT', 'Replace TPS if erratic'], 'Replace TPS or throttle body', '$20 - $150', ['P0121', 'P0122', 'P0123'], undefined, [['Can a dirty throttle body cause P0120?', 'Yes — carbon buildup can prevent the throttle from closing fully, confusing the TPS. Clean the throttle body first.'], ['What is limp mode?', 'When the ECM cannot trust the TPS, it limits power to protect the engine. This is called limp mode or reduced power mode.']]),

c('P0121', 'Throttle Position Sensor A Range/Performance', 'The TPS reading does not match expected values based on MAP, RPM, and other inputs. Erratic readings indicate a worn TPS.', 'high', 'Fuel', ['Intermittent power loss', 'Rough acceleration', 'Surging at cruise speed', 'Reduced power mode'], [['Worn TPS with dead spots', 'likely'], ['Throttle body carbon buildup', 'possible'], ['Loose TPS connector', 'possible'], ['Damaged throttle linkage', 'unlikely']], ['Watch TPS voltage on scan tool while slowly opening throttle — look for jumps or dropouts', 'Clean throttle body', 'Check TPS mounting and connector', 'Replace TPS if readings are erratic'], 'Replace TPS', '$20 - $100', ['P0120', 'P0122', 'P0123'], undefined, [['How do I test a TPS?', 'Using a scan tool, slowly open the throttle from closed to wide open. Voltage should rise smoothly from ~0.5V to ~4.5V with no jumps or drops.'], ['Can I just clean the throttle body?', 'Sometimes cleaning fixes P0121 if carbon is preventing smooth throttle movement. Try cleaning first before replacing the TPS.']]),

c('P0122', 'Throttle Position Sensor A Circuit Low', 'TPS voltage is below minimum threshold. The ECM cannot determine throttle position accurately.', 'high', 'Fuel', ['Engine stuck at idle', 'No acceleration response', 'Limp mode', 'Check engine light'], [['Faulty TPS', 'likely'], ['Wiring short to ground', 'possible'], ['Bad TPS connector', 'possible'], ['ECM driver fault', 'unlikely']], ['Check TPS connector and wiring', 'Measure TPS signal voltage', 'Check 5V reference wire', 'Replace TPS'], 'Replace TPS', '$20 - $100', ['P0120', 'P0121', 'P0123'], undefined, [['Why wont my car accelerate with P0122?', 'The ECM thinks the throttle is fully closed, so it limits engine power. A new TPS usually fixes this immediately.'], ['Can I drive in limp mode?', 'You can drive slowly to get home or to a shop, but speed is limited. Do not drive far in limp mode.']]),

c('P0123', 'Throttle Position Sensor A Circuit High', 'TPS voltage is above maximum expected. ECM sees the throttle as more open than it actually is.', 'high', 'Fuel', ['High idle', 'Surging', 'Hesitation', 'Reduced power mode'], [['Failed TPS', 'likely'], ['Open ground wire', 'possible'], ['Short to voltage in signal wire', 'possible']], ['Measure TPS voltage — should be ~0.5V at closed throttle', 'Check TPS connector and ground wire', 'Inspect for shorts in wiring', 'Replace TPS'], 'Replace TPS', '$20 - $100', ['P0120', 'P0121', 'P0122'], undefined, [['What causes TPS high voltage?', 'Usually a failed TPS or an open ground wire that pulls the signal high. Less commonly a short in the wiring.'], ['Does P0123 cause high idle?', 'Yes — the ECM thinks the throttle is partly open and may raise idle speed or behave erratically.']]),

c('P0125', 'Insufficient Coolant Temperature for Closed Loop Fuel Control', 'The engine is not reaching proper operating temperature for the fuel system to go into closed-loop mode. Typically a stuck-open thermostat.', 'low', 'Cooling', ['Poor fuel economy', 'Heater blows lukewarm', 'Temperature gauge stays low', 'Check engine light'], [['Stuck-open thermostat', 'likely'], ['Faulty ECT sensor', 'possible'], ['Missing or wrong thermostat', 'possible']], ['Check if engine reaches operating temp (190-210°F)', 'Compare ECT sensor reading to actual temp', 'Inspect thermostat', 'Replace thermostat if stuck open'], 'Replace thermostat', '$15 - $40', ['P0128', 'P0116', 'P0115'], 'thermostat-replacement', [['Is P0125 the same as P0128?', 'Very similar. P0125 means the ECM cannot enter closed-loop fuel control. P0128 means the coolant has not reached expected temp within a time limit. Both usually mean a stuck thermostat.'], ['Can I drive with P0125?', 'Yes, but fuel economy suffers and your heater will not work well in winter. Replace the thermostat soon.']]),

c('P0128', 'Coolant Thermostat Below Regulating Temperature', 'The engine is not reaching normal operating temperature within the expected time. The thermostat is almost certainly stuck open.', 'medium', 'Cooling', ['Temperature gauge stays below normal', 'Poor heater output', 'Increased fuel consumption', 'Slow warm-up'], [['Stuck-open thermostat', 'likely'], ['Faulty ECT sensor', 'possible'], ['Missing thermostat', 'possible'], ['Thermostat installed backwards', 'unlikely']], ['Monitor coolant temp during warm-up', 'Feel upper radiator hose — should be cold until thermostat opens at ~195°F', 'Check if someone removed the thermostat', 'Replace thermostat'], 'Replace thermostat', '$15 - $40', ['P0125', 'P0116', 'P0115'], 'thermostat-replacement', [['Is P0128 serious?', 'Not an emergency but fix soon. A stuck-open thermostat wastes fuel and the engine runs less efficiently. In cold weather your heater will blow cold air.'], ['How much does a thermostat cost?', 'Thermostats cost $10-$25 for the part. With gasket and coolant, total DIY cost is $15-$40. Most take 30-60 minutes to replace.']]),

// ═══ O2 SENSORS (P0130-P0161) ═══
c('P0130', 'O2 Sensor Circuit (Bank 1, Sensor 1)', 'General fault with the upstream O2 sensor on bank 1. This sensor monitors exhaust oxygen to control fuel mixture.', 'medium', 'Emissions', ['Check engine light', 'Poor fuel economy', 'Rough idle', 'Failed emissions test'], [['Faulty O2 sensor', 'likely'], ['Exhaust leak before sensor', 'possible'], ['Wiring damage', 'possible'], ['Contaminated sensor', 'possible']], ['Check O2 sensor wiring and connector', 'Monitor sensor voltage with scan tool (should oscillate 0.1-0.9V)', 'Check for exhaust leaks near sensor', 'Replace sensor if lazy or stuck'], 'Replace upstream O2 sensor bank 1', '$30 - $100', ['P0131', 'P0132', 'P0135'], 'oxygen-sensor-replacement', [['How do I know if my O2 sensor is bad?', 'A good O2 sensor oscillates between 0.1V and 0.9V rapidly. A lazy sensor responds slowly or gets stuck at one voltage.'], ['Does P0130 affect gas mileage?', 'Yes — the upstream O2 sensor is critical for fuel trim. A bad one can cause 10-20% worse fuel economy.']]),

c('P0131', 'O2 Sensor Circuit Low Voltage (Bank 1, Sensor 1)', 'The upstream O2 sensor on bank 1 is stuck at a low voltage, indicating a lean exhaust condition. Could be the sensor or an actual lean condition.', 'medium', 'Emissions', ['Poor fuel economy', 'Rough idle', 'Hesitation', 'Check engine light'], [['Failed O2 sensor', 'likely'], ['Vacuum leak causing actual lean condition', 'possible'], ['Exhaust leak before sensor', 'possible'], ['Low fuel pressure', 'possible']], ['Check for vacuum leaks', 'Check fuel pressure', 'Monitor O2 sensor voltage', 'If sensor stuck below 0.3V, replace it'], 'Replace upstream O2 sensor', '$30 - $100', ['P0130', 'P0171', 'P0132'], 'oxygen-sensor-replacement', [['Can a vacuum leak cause P0131?', 'Yes — a vacuum leak causes a real lean condition that makes the O2 sensor read low voltage. Fix vacuum leaks before replacing the sensor.'], ['How do I tell if it is the sensor or a leak?', 'If fuel trims are high positive and the engine runs rough, look for vacuum leaks first. If trims are normal but O2 is stuck low, the sensor is bad.']]),

c('P0132', 'O2 Sensor Circuit High Voltage (Bank 1, Sensor 1)', 'Upstream O2 sensor on bank 1 is stuck at high voltage, indicating a rich condition.', 'medium', 'Emissions', ['Rich running', 'Black exhaust smoke', 'Poor fuel economy', 'Fuel smell'], [['Failed O2 sensor stuck rich', 'likely'], ['Fuel pressure too high', 'possible'], ['Leaking fuel injector', 'possible'], ['Coolant leaking into combustion chamber', 'unlikely']], ['Monitor O2 voltage — if stuck above 0.7V, suspect sensor', 'Check fuel pressure', 'Inspect for leaking injectors', 'Check short term fuel trim'], 'Replace O2 sensor', '$30 - $100', ['P0130', 'P0172', 'P0131'], 'oxygen-sensor-replacement', [['What does a high voltage O2 sensor mean?', 'High voltage (above 0.9V) means the exhaust is rich — too much fuel. Could be a bad sensor or a real rich condition.'], ['Can too much fuel damage the catalytic converter?', 'Yes — prolonged rich running can overheat and destroy the catalytic converter. Fix the cause of P0132 promptly.']]),

c('P0133', 'O2 Sensor Circuit Slow Response (Bank 1, Sensor 1)', 'The upstream O2 sensor on bank 1 is responding too slowly to changes in exhaust oxygen content. Known as a lazy O2 sensor.', 'medium', 'Emissions', ['Slightly poor fuel economy', 'Failed emissions test', 'Occasional hesitation', 'Check engine light'], [['Aging O2 sensor with worn element', 'likely'], ['Contaminated sensor (from oil burning or coolant leak)', 'possible'], ['Exhaust leak diluting reading', 'possible']], ['Monitor O2 sensor switching rate (should be 1-3 times/second at 2500 RPM)', 'Check for oil consumption or coolant leak', 'Inspect for exhaust leaks', 'Replace if response time exceeds 300ms'], 'Replace O2 sensor', '$30 - $100', ['P0130', 'P0134', 'P0135'], 'oxygen-sensor-replacement', [['How long do O2 sensors last?', 'Most O2 sensors last 60,000-100,000 miles. After that, they get lazy and respond slowly, triggering P0133.'], ['Is P0133 a big deal?', 'Not an emergency, but fuel economy suffers and you will fail emissions. Replace the sensor when convenient.']]),

c('P0134', 'O2 Sensor Circuit No Activity Detected (Bank 1, Sensor 1)', 'The upstream O2 sensor on bank 1 shows no switching activity. The sensor may be dead or disconnected.', 'medium', 'Emissions', ['Check engine light', 'Poor fuel economy', 'Rich or lean running', 'Failed emissions'], [['Dead O2 sensor', 'likely'], ['O2 sensor heater failure preventing warm-up', 'possible'], ['Disconnected or cut wire', 'possible'], ['Severely contaminated sensor', 'possible']], ['Verify sensor is connected', 'Check O2 heater operation', 'Monitor sensor voltage — completely flat line confirms dead sensor', 'Replace sensor'], 'Replace O2 sensor', '$30 - $100', ['P0130', 'P0133', 'P0135'], 'oxygen-sensor-replacement', [['What causes an O2 sensor to die?', 'Age, exposure to coolant or oil vapors, using leaded fuel or certain sealants that poison the sensor element.'], ['Will a dead O2 sensor damage my engine?', 'The engine will run in open-loop mode with poor fuel economy but it will not cause direct engine damage.']]),

c('P0135', 'O2 Sensor Heater Circuit (Bank 1, Sensor 1)', 'The heater in the upstream O2 sensor on bank 1 is not working properly. The heater brings the sensor to operating temperature quickly.', 'low', 'Emissions', ['Check engine light', 'Slow warm-up fuel trim', 'Slightly increased emissions', 'Failed emissions test'], [['Failed O2 sensor heater', 'likely'], ['Blown O2 heater fuse', 'possible'], ['Wiring issue', 'possible'], ['Corroded connector', 'possible']], ['Check O2 heater fuse', 'Measure heater resistance (2-30 ohms normal)', 'Check power and ground at sensor', 'Replace sensor if heater open'], 'Replace O2 sensor', '$30 - $100', ['P0030', 'P0141', 'P0155'], 'oxygen-sensor-replacement', [['Can a heater fault affect the O2 sensor reading?', 'Not directly, but the sensor will take longer to warm up. In cold weather, fuel economy suffers during warm-up.'], ['Do all O2 sensors have heaters?', 'All modern vehicles (1996+) have heated O2 sensors. The heater ensures accurate readings from cold start.']]),

c('P0136', 'O2 Sensor Circuit (Bank 1, Sensor 2)', 'General fault with the downstream (post-cat) O2 sensor on bank 1. This sensor monitors catalytic converter efficiency.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test', 'No driveability symptoms'], [['Faulty downstream O2 sensor', 'likely'], ['Wiring damage from exhaust heat', 'possible'], ['Contaminated sensor', 'possible']], ['Check sensor connector and wiring', 'Monitor sensor voltage (should be steady ~0.4-0.6V)', 'Compare to upstream sensor behavior', 'Replace if erratic'], 'Replace downstream O2 sensor', '$25 - $80', ['P0137', 'P0138', 'P0141'], 'oxygen-sensor-replacement', [['Does the downstream O2 sensor affect performance?', 'No — it only monitors the catalytic converter. Performance and fuel economy are not affected.'], ['What should downstream O2 voltage be?', 'A healthy downstream O2 should read a fairly steady 0.4-0.7V. Rapid oscillation like the upstream sensor indicates a failing catalytic converter.']]),

c('P0137', 'O2 Sensor Circuit Low Voltage (Bank 1, Sensor 2)', 'Downstream O2 sensor on bank 1 is reading too low. Could indicate a failing sensor or a lean exhaust condition.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test', 'Possible P0420 code'], [['Failed downstream O2 sensor', 'likely'], ['Exhaust leak after cat', 'possible'], ['Deteriorating catalytic converter', 'possible']], ['Check for exhaust leaks after catalytic converter', 'Monitor sensor voltage', 'Compare upstream and downstream readings', 'Replace sensor if stuck low'], 'Replace downstream O2 sensor', '$25 - $80', ['P0136', 'P0138', 'P0420'], 'oxygen-sensor-replacement', [['Can P0137 mean the catalytic converter is bad?', 'Not usually — P0137 is more likely the sensor itself. P0420 is the code that indicates catalytic converter efficiency issues.'], ['Should I replace both O2 sensors?', 'Not necessarily. Only replace the one that has failed. However, if both are original and high-mileage, replacing both saves labor.']]),

c('P0138', 'O2 Sensor Circuit High Voltage (Bank 1, Sensor 2)', 'Downstream O2 sensor bank 1 is stuck at a high voltage. Usually a failed sensor.', 'low', 'Emissions', ['Check engine light', 'Failed emissions', 'No performance symptoms'], [['Failed O2 sensor', 'likely'], ['Rich exhaust from upstream issue', 'possible'], ['Short in sensor wiring', 'possible']], ['Check upstream fuel trim — if normal, sensor is likely bad', 'Monitor sensor voltage', 'Inspect wiring for shorts', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0136', 'P0137', 'P0420'], 'oxygen-sensor-replacement', [['Is P0138 serious?', 'Not in terms of driveability but it will fail emissions. A mechanic might misdiagnose this as a catalytic converter issue.'], ['Can P0138 damage the catalytic converter?', 'No — the downstream sensor only monitors the cat, it does not control fuel mixture.']]),

c('P0139', 'O2 Sensor Circuit Slow Response (Bank 1, Sensor 2)', 'The downstream O2 sensor on bank 1 responds too slowly. This can mask catalytic converter degradation.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test'], [['Aging O2 sensor', 'likely'], ['Contamination from oil or coolant', 'possible']], ['Monitor sensor response rate', 'Check for oil consumption', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0136', 'P0140', 'P0420'], 'oxygen-sensor-replacement', [['Does P0139 mean my cat is bad?', 'No, P0139 is specifically the sensor responding slowly. Replace the sensor first before worrying about the cat.'], ['How often should downstream O2 sensors be replaced?', 'Typically every 80,000-120,000 miles, or when codes appear.']]),

c('P0140', 'O2 Sensor Circuit No Activity (Bank 1, Sensor 2)', 'The downstream O2 sensor on bank 1 shows no voltage changes at all. The sensor is likely dead.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test'], [['Dead O2 sensor', 'likely'], ['Disconnected sensor', 'possible'], ['Heater failure preventing warm-up', 'possible']], ['Verify sensor is connected', 'Check heater circuit', 'Monitor voltage — flat line confirms dead sensor', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0136', 'P0139', 'P0141'], 'oxygen-sensor-replacement', [['Is P0140 urgent?', 'Not at all for driveability. The downstream sensor does not affect engine performance. But it will fail emissions.'], ['Can I just clear P0140?', 'You can clear it, but it will return if the sensor is dead. Replace the sensor for a permanent fix.']]),

c('P0141', 'O2 Sensor Heater Circuit (Bank 1, Sensor 2)', 'The heater in the downstream O2 sensor on bank 1 has failed.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test'], [['Burned-out heater element', 'likely'], ['Blown heater fuse', 'possible'], ['Corroded connector', 'possible']], ['Check O2 heater fuse', 'Measure heater resistance', 'Inspect connector', 'Replace sensor if heater is open'], 'Replace downstream O2 sensor', '$25 - $80', ['P0036', 'P0135', 'P0161'], 'oxygen-sensor-replacement', [['Can I just replace the heater?', 'No — the heater is integrated into the O2 sensor. You must replace the entire sensor.'], ['Do I need to replace upstream and downstream together?', 'No, replace only the failed sensor. They are independent.']]),

c('P0150', 'O2 Sensor Circuit (Bank 2, Sensor 1)', 'General fault with the upstream O2 sensor on bank 2 of a V-engine.', 'medium', 'Emissions', ['Check engine light', 'Poor fuel economy', 'Rough running', 'Failed emissions'], [['Faulty O2 sensor', 'likely'], ['Exhaust leak', 'possible'], ['Wiring damage', 'possible']], ['Inspect wiring and connector', 'Monitor sensor voltage', 'Check for exhaust leaks', 'Replace if faulty'], 'Replace upstream O2 sensor bank 2', '$30 - $100', ['P0151', 'P0155', 'P0130'], 'oxygen-sensor-replacement', [['Is bank 2 sensor 1 upstream or downstream?', 'Sensor 1 is always upstream (before the catalytic converter). Sensor 2 is downstream (after the cat).'], ['Why does my V6/V8 have bank 2 codes?', 'V-engines have two exhaust banks. Bank 2 is the opposite side from cylinder 1.']]),

c('P0151', 'O2 Sensor Circuit Low Voltage (Bank 2, Sensor 1)', 'Upstream O2 sensor on bank 2 is stuck low, reading lean.', 'medium', 'Emissions', ['Poor fuel economy', 'Hesitation', 'Check engine light'], [['Failed O2 sensor', 'likely'], ['Vacuum leak on bank 2', 'possible'], ['Exhaust leak near sensor', 'possible']], ['Check for vacuum leaks on bank 2 side', 'Monitor sensor voltage', 'Check fuel trim for bank 2', 'Replace sensor if stuck'], 'Replace O2 sensor', '$30 - $100', ['P0150', 'P0174', 'P0152'], 'oxygen-sensor-replacement', [['Why only bank 2?', 'If only bank 2 is lean, the issue is likely specific to that side — a vacuum leak, exhaust leak, or bad sensor on that bank.'], ['Can I swap bank 1 and bank 2 sensors to test?', 'Yes — if the code follows the sensor, the sensor is bad. If it stays on bank 2, the problem is something else.']]),

c('P0152', 'O2 Sensor Circuit High Voltage (Bank 2, Sensor 1)', 'Upstream O2 sensor bank 2 reads too high (rich).', 'medium', 'Emissions', ['Rich running on bank 2', 'Black smoke from one side', 'Fuel smell'], [['Failed O2 sensor', 'likely'], ['Leaking fuel injector on bank 2', 'possible'], ['High fuel pressure', 'possible']], ['Monitor O2 sensor voltage', 'Check fuel trim bank 2', 'Inspect injectors for leaks', 'Replace sensor'], 'Replace O2 sensor', '$30 - $100', ['P0150', 'P0175', 'P0151'], 'oxygen-sensor-replacement', [['Can a leaking injector cause P0152?', 'Yes — a leaking injector on bank 2 adds extra fuel, causing a real rich condition the O2 sensor correctly detects.'], ['How to tell if it is the sensor or injector?', 'Check fuel trim: if the ECM is trimming fuel down heavily on bank 2, it is a real rich condition (injector). If trims are normal, the sensor is lying.']]),

c('P0153', 'O2 Sensor Circuit Slow Response (Bank 2, Sensor 1)', 'Upstream O2 sensor on bank 2 responds too slowly.', 'medium', 'Emissions', ['Poor fuel economy', 'Slight hesitation', 'Failed emissions'], [['Aging O2 sensor', 'likely'], ['Contaminated sensor', 'possible'], ['Exhaust leak', 'possible']], ['Monitor sensor switching rate', 'Check for exhaust leaks', 'Replace sensor'], 'Replace O2 sensor', '$30 - $100', ['P0150', 'P0154', 'P0133'], 'oxygen-sensor-replacement', [['How many miles do O2 sensors last?', 'Typically 60,000-100,000 miles. After that, they become sluggish and trigger slow-response codes.'], ['Should I replace all O2 sensors at once?', 'Only replace the one that failed. But if all are original and high-mileage, doing them all saves future hassle.']]),

c('P0154', 'O2 Sensor Circuit No Activity (Bank 2, Sensor 1)', 'No activity from the upstream O2 sensor on bank 2. Sensor is likely dead.', 'medium', 'Emissions', ['Check engine light', 'Poor fuel economy', 'Rich or lean running'], [['Dead O2 sensor', 'likely'], ['Disconnected wire', 'possible'], ['Heater failure', 'possible']], ['Verify sensor is connected', 'Check heater circuit', 'Monitor voltage for any activity', 'Replace sensor'], 'Replace O2 sensor', '$30 - $100', ['P0150', 'P0153', 'P0134'], 'oxygen-sensor-replacement', [['Is P0154 the same as P0134 but other bank?', 'Exactly — P0154 is the bank 2 version of P0134. Same diagnosis, same fix, just on the opposite cylinder bank.'], ['Can this cause engine damage?', 'No direct damage, but the engine runs in open-loop with poor fuel economy on that bank.']]),

c('P0155', 'O2 Sensor Heater Circuit (Bank 2, Sensor 1)', 'Heater failure in the upstream O2 sensor on bank 2.', 'low', 'Emissions', ['Check engine light', 'Slightly worse fuel economy cold', 'Failed emissions'], [['Failed heater element', 'likely'], ['Blown fuse', 'possible'], ['Wiring issue', 'possible']], ['Check O2 heater fuse', 'Measure heater resistance', 'Inspect wiring', 'Replace sensor'], 'Replace O2 sensor', '$30 - $100', ['P0135', 'P0030', 'P0161'], 'oxygen-sensor-replacement', [['Is the bank 2 O2 sensor different from bank 1?', 'Often yes — bank 1 and bank 2 upstream sensors may have different part numbers due to wire length or connector style.'], ['Can I use universal O2 sensors?', 'Yes, but you must splice the wires correctly. Direct-fit sensors are easier and more reliable.']]),

c('P0156', 'O2 Sensor Circuit (Bank 2, Sensor 2)', 'General fault in the downstream O2 sensor on bank 2.', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Faulty O2 sensor', 'likely'], ['Wiring damage', 'possible']], ['Inspect wiring', 'Monitor sensor voltage', 'Replace if faulty'], 'Replace downstream O2 sensor bank 2', '$25 - $80', ['P0157', 'P0158', 'P0161'], 'oxygen-sensor-replacement', [['Do V6 engines have 4 O2 sensors?', 'Yes — most V6 and V8 engines have 4 O2 sensors: upstream and downstream on each bank.'], ['Which O2 sensor is most important?', 'The upstream sensors (sensor 1) are most important — they control fuel mixture. Downstream sensors only monitor the catalytic converter.']]),

c('P0157', 'O2 Sensor Circuit Low Voltage (Bank 2, Sensor 2)', 'Downstream O2 sensor bank 2 reads low voltage.', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Failed sensor', 'likely'], ['Exhaust leak after cat', 'possible']], ['Monitor sensor voltage', 'Check for exhaust leaks', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0156', 'P0158', 'P0137'], 'oxygen-sensor-replacement', [['Is P0157 just like P0137?', 'Yes — same problem, other bank. P0137 is bank 1, P0157 is bank 2.'], ['Do I need to fix this?', 'Only needed for emissions testing. No driveability impact.']]),

c('P0158', 'O2 Sensor Circuit High Voltage (Bank 2, Sensor 2)', 'Downstream O2 sensor bank 2 reads high (rich).', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Failed sensor stuck rich', 'likely'], ['Rich condition from upstream issue', 'possible']], ['Check upstream bank 2 for rich condition first', 'Monitor sensor voltage', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0156', 'P0157', 'P0138'], 'oxygen-sensor-replacement', [['Can this be caused by a bank 2 issue?', 'If bank 2 upstream is running rich, the downstream sensor correctly reads high. Fix any upstream codes first.'], ['Is the downstream sensor expensive?', 'No — downstream sensors are often cheaper than upstream. $25-$80 for DIY.']]),

c('P0159', 'O2 Sensor Circuit Slow Response (Bank 2, Sensor 2)', 'Downstream O2 sensor bank 2 responds too slowly.', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Aging sensor', 'likely'], ['Contamination', 'possible']], ['Monitor response rate', 'Replace if slow'], 'Replace O2 sensor', '$25 - $80', ['P0156', 'P0160', 'P0139'], 'oxygen-sensor-replacement', [['Is P0159 urgent?', 'No — downstream sensors only monitor the cat. No driveability effect.'], ['How to test response time?', 'With scan tool, the downstream voltage should shift within 300ms of upstream changes.']]),

c('P0160', 'O2 Sensor Circuit No Activity (Bank 2, Sensor 2)', 'Downstream O2 sensor bank 2 shows zero activity.', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Dead sensor', 'likely'], ['Disconnected', 'possible']], ['Verify connection', 'Check heater', 'Replace sensor'], 'Replace downstream O2 sensor', '$25 - $80', ['P0156', 'P0159', 'P0140'], 'oxygen-sensor-replacement', [['Will this affect my engine?', 'No performance effect. Only matters for emissions testing.'], ['Can I just disconnect it?', 'That will cause the same code. Replace the sensor for a proper fix.']]),

c('P0161', 'O2 Sensor Heater Circuit (Bank 2, Sensor 2)', 'Heater failure in downstream O2 sensor bank 2.', 'low', 'Emissions', ['Check engine light', 'Failed emissions'], [['Burned-out heater', 'likely'], ['Blown fuse', 'possible'], ['Corroded connector', 'possible']], ['Check fuse', 'Measure heater resistance', 'Replace sensor'], 'Replace O2 sensor', '$25 - $80', ['P0141', 'P0155', 'P0036'], 'oxygen-sensor-replacement', [['Is this the cheapest O2 sensor to replace?', 'Often yes — downstream sensors are cheaper parts and usually easier to access than upstream sensors.'], ['Can I ignore this code?', 'You can drive indefinitely with no symptoms, but you will fail emissions inspection.']]),

// ═══ FUEL SYSTEM (P0171-P0175) ═══
c('P0171', 'System Too Lean (Bank 1)', 'The engine is running lean on bank 1 — too much air or not enough fuel. The ECM has maxed out its fuel trim trying to compensate. Common causes include vacuum leaks and dirty MAF sensors.', 'medium', 'Fuel', ['Rough idle', 'Hesitation on acceleration', 'Poor fuel economy', 'Possible misfire at idle'], [['Vacuum leak (intake manifold gasket, hose, PCV)', 'likely'], ['Dirty or failed MAF sensor', 'likely'], ['Weak fuel pump or clogged filter', 'possible'], ['Leaking fuel injector', 'possible']], ['Check for vacuum leaks with smoke test or carb cleaner', 'Clean MAF sensor with MAF cleaner', 'Check fuel pressure', 'Inspect intake manifold gaskets'], 'Fix vacuum leak or clean MAF sensor', '$0 - $150', ['P0174', 'P0172', 'P0101'], 'mass-air-flow-sensor-replacement', [['Can I drive with P0171?', 'You can drive but the engine runs lean, which causes poor performance and can damage the catalytic converter over time.'], ['What is the most common cause of P0171?', 'A vacuum leak (cracked hose, loose clamp, or leaking intake gasket) is the #1 cause, followed by a dirty MAF sensor.']]),

c('P0172', 'System Too Rich (Bank 1)', 'Bank 1 is running rich — too much fuel relative to air. The ECM cannot trim enough fuel out to compensate.', 'medium', 'Fuel', ['Black exhaust smoke', 'Strong fuel smell', 'Poor fuel economy', 'Fouled spark plugs'], [['Leaking fuel injector', 'likely'], ['Faulty O2 sensor reading lean', 'possible'], ['High fuel pressure (bad regulator)', 'possible'], ['Dirty air filter restricting airflow', 'possible']], ['Check fuel pressure', 'Inspect fuel injectors for leaks', 'Check O2 sensor operation', 'Inspect air filter'], 'Replace leaking injector or fuel pressure regulator', '$30 - $200', ['P0175', 'P0171', 'P0132'], 'fuel-filter-replacement', [['Is P0172 dangerous?', 'Running rich wastes fuel and can damage the catalytic converter with unburned fuel. Fix within a week.'], ['Can a dirty air filter cause P0172?', 'Yes — a severely clogged air filter restricts airflow, making the mixture rich. Check your air filter first.']]),

c('P0174', 'System Too Lean (Bank 2)', 'Same as P0171 but on bank 2. If both P0171 and P0174 are present, the issue is likely shared (MAF, fuel pump, or large vacuum leak).', 'medium', 'Fuel', ['Rough idle', 'Loss of power', 'Poor fuel economy', 'Hesitation'], [['Vacuum leak', 'likely'], ['Dirty MAF sensor', 'likely'], ['Low fuel pressure', 'possible'], ['Intake manifold gasket leak', 'possible']], ['Check for vacuum leaks', 'Clean MAF sensor', 'Check fuel pressure', 'If P0171 also present, focus on shared components'], 'Fix vacuum leak or clean MAF', '$0 - $150', ['P0171', 'P0175', 'P0101'], 'mass-air-flow-sensor-replacement', [['Why do I have both P0171 and P0174?', 'Both banks lean means a shared component is failing — usually the MAF sensor, fuel pump, or a large vacuum leak affecting both sides.'], ['Can low fuel pressure cause P0174?', 'Yes — a weak fuel pump or clogged filter cannot deliver enough fuel to both banks, causing lean codes on both.']]),

c('P0175', 'System Too Rich (Bank 2)', 'Bank 2 is running rich. If P0172 is also present, look for shared causes like fuel pressure or MAF sensor.', 'medium', 'Fuel', ['Black smoke', 'Poor fuel economy', 'Fuel smell', 'Rough running'], [['Leaking fuel injector bank 2', 'likely'], ['Faulty O2 sensor bank 2', 'possible'], ['High fuel pressure', 'possible'], ['Dirty MAF sensor', 'possible']], ['Check fuel pressure', 'Inspect injectors', 'Check O2 sensor bank 2', 'If P0172 also present, focus on shared components'], 'Replace leaking injector or fix fuel pressure', '$30 - $200', ['P0172', 'P0174', 'P0152'], 'fuel-filter-replacement', [['Is P0175 the same fix as P0172?', 'Same diagnostic approach but on bank 2. If both banks rich, focus on shared causes like fuel pressure regulator.'], ['How do I find a leaking injector?', 'With the engine off, pressurize the fuel rail and watch for fuel dripping from injector tips. Or use a stethoscope to listen for clicking patterns.']]),

// ═══ FUEL RAIL PRESSURE (P0191-P0193) ═══
c('P0191', 'Fuel Rail Pressure Sensor Circuit Range/Performance', 'The fuel rail pressure sensor reading does not match expected values. Usually a sensor fault or wiring issue.', 'medium', 'Fuel', ['Engine performance issues', 'Hard starting', 'Stalling', 'Check engine light'], [['Faulty fuel rail pressure sensor', 'likely'], ['Wiring issue', 'possible'], ['Actual fuel pressure problem', 'possible']], ['Check sensor wiring', 'Compare sensor reading to mechanical gauge', 'Test fuel pump pressure', 'Replace sensor if readings incorrect'], 'Replace fuel rail pressure sensor', '$30 - $80', ['P0192', 'P0193', 'P0171'], undefined, [['What does the fuel rail pressure sensor do?', 'It monitors fuel pressure in the fuel rail so the ECM can adjust injector pulse width for proper fuel delivery.'], ['Is this sensor easy to replace?', 'Usually yes — it screws into the fuel rail. Relieve fuel pressure first and have a rag ready for fuel spillage.']]),

c('P0192', 'Fuel Rail Pressure Sensor Circuit Low', 'Fuel rail pressure sensor reads too low. Could be a sensor fault or actually low fuel pressure.', 'high', 'Fuel', ['Loss of power', 'Engine stalling', 'Hard starting', 'Rough running'], [['Faulty sensor', 'likely'], ['Weak fuel pump', 'possible'], ['Clogged fuel filter', 'possible'], ['Fuel line restriction', 'unlikely']], ['Check fuel pressure with mechanical gauge', 'If actual pressure is fine, replace sensor', 'Check fuel filter', 'Test fuel pump'], 'Replace fuel pressure sensor or fuel pump', '$30 - $300', ['P0191', 'P0193', 'P0231'], 'fuel-pump-replacement', [['Can a bad fuel pump cause P0192?', 'Yes — if actual fuel pressure is low, the sensor is reading correctly and the fuel pump or filter needs attention.'], ['How to tell sensor vs pump?', 'Compare the sensor reading to a mechanical fuel pressure gauge. If they match and pressure is low, the pump is weak. If mechanical gauge shows normal pressure, the sensor is bad.']]),

c('P0193', 'Fuel Rail Pressure Sensor Circuit High', 'Fuel rail pressure sensor reads higher than expected.', 'medium', 'Fuel', ['Rich running', 'Poor fuel economy', 'Check engine light'], [['Faulty sensor', 'likely'], ['High fuel pressure (bad regulator)', 'possible'], ['Short in wiring', 'possible']], ['Check actual fuel pressure', 'Inspect wiring for shorts', 'Check fuel pressure regulator', 'Replace sensor if readings are false'], 'Replace fuel pressure sensor', '$30 - $80', ['P0191', 'P0192'], undefined, [['Can high fuel pressure damage the engine?', 'Yes — excessively high fuel pressure causes rich running, fouled plugs, and can damage the catalytic converter.'], ['What regulates fuel pressure?', 'The fuel pressure regulator (on the fuel rail or in the fuel pump module) maintains correct pressure.']]),

// ═══ FUEL INJECTORS (P0200-P0206) ═══
c('P0200', 'Injector Circuit Malfunction', 'General fuel injector circuit fault. The ECM detected an issue with the injector driver circuit.', 'high', 'Fuel', ['Rough idle', 'Misfires', 'Loss of power', 'Check engine light'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible'], ['ECM driver circuit failure', 'unlikely']], ['Check all injector connectors', 'Test injector resistance', 'Check for power at injector harness', 'Isolate which cylinder if possible'], 'Replace faulty fuel injector', '$40 - $150', ['P0201', 'P0300', 'P0171'], undefined, [['How do I know which injector is bad?', 'If P0200 appears alone, unplug injectors one at a time — the one that does not change idle when unplugged is the dead one.'], ['Are fuel injectors expensive?', 'Individual injectors cost $40-$150 depending on vehicle. Cleaning may fix some issues for $15-$30 with fuel injector cleaner.']]),

c('P0201', 'Injector Circuit Malfunction - Cylinder 1', 'The fuel injector on cylinder 1 has a circuit fault. It may not be firing.', 'high', 'Fuel', ['Cylinder 1 misfire', 'Rough idle', 'Loss of power', 'Check engine light'], [['Faulty cylinder 1 injector', 'likely'], ['Damaged wiring to injector 1', 'possible'], ['Corroded connector', 'possible'], ['ECM driver failure', 'unlikely']], ['Check injector 1 connector', 'Measure injector 1 resistance (compare to others)', 'Check for power at injector', 'Swap injector with another cylinder to confirm'], 'Replace cylinder 1 fuel injector', '$40 - $150', ['P0200', 'P0301', 'P0202'], undefined, [['Can I swap injectors to test?', 'Yes — swap cylinder 1 injector with another. If the code follows to the new cylinder, the injector is bad.'], ['Does P0201 always mean the injector is bad?', 'Not always — check the wiring and connector first. A corroded or loose connector is a common cause.']]),

c('P0202', 'Injector Circuit Malfunction - Cylinder 2', 'Cylinder 2 injector circuit fault.', 'high', 'Fuel', ['Cylinder 2 misfire', 'Rough idle', 'Power loss'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible'], ['Bad connector', 'possible']], ['Check connector', 'Test resistance', 'Swap with another injector', 'Replace if confirmed bad'], 'Replace cylinder 2 injector', '$40 - $150', ['P0200', 'P0302', 'P0201'], undefined, [['Is the fix the same as P0201?', 'Identical diagnosis, just on cylinder 2. Check wiring, test resistance, swap to confirm.'], ['Can dirty injectors cause this?', 'Dirty injectors usually cause lean codes, not circuit faults. P0202 is an electrical issue.']]),

c('P0203', 'Injector Circuit Malfunction - Cylinder 3', 'Cylinder 3 injector circuit fault.', 'high', 'Fuel', ['Cylinder 3 misfire', 'Rough idle', 'Power loss'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible'], ['Bad connector', 'possible']], ['Check connector', 'Test resistance', 'Swap with another injector', 'Replace if confirmed bad'], 'Replace cylinder 3 injector', '$40 - $150', ['P0200', 'P0303', 'P0204'], undefined, [['How much does injector replacement cost?', 'DIY: $40-$150 per injector. Mechanic: $150-$400 including labor.'], ['Can I drive with a dead injector?', 'You can limp home but driving with a dead cylinder sends raw fuel into the exhaust, damaging the catalytic converter.']]),

c('P0204', 'Injector Circuit Malfunction - Cylinder 4', 'Cylinder 4 injector circuit fault.', 'high', 'Fuel', ['Cylinder 4 misfire', 'Rough idle', 'Loss of power'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible'], ['Connector corrosion', 'possible']], ['Check connector', 'Test resistance', 'Swap with another injector', 'Replace if confirmed'], 'Replace cylinder 4 injector', '$40 - $150', ['P0200', 'P0304', 'P0203'], undefined, [['Is cylinder 4 easy to reach?', 'On inline-4 engines, cylinder 4 is at one end. On V-engines, check your firing order to find which physical cylinder is number 4.'], ['Can fuel injector cleaner help?', 'Not for P0204 — this is an electrical circuit fault, not a clogged injector. Cleaner helps with flow issues, not electrical problems.']]),

c('P0205', 'Injector Circuit Malfunction - Cylinder 5', 'Cylinder 5 injector circuit fault. Only applies to 5+ cylinder engines.', 'high', 'Fuel', ['Cylinder 5 misfire', 'Rough running', 'Loss of power'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible']], ['Check connector and wiring', 'Test injector resistance', 'Swap with known good injector', 'Replace if confirmed'], 'Replace cylinder 5 injector', '$40 - $150', ['P0200', 'P0305', 'P0206'], undefined, [['Do I need to replace all injectors?', 'No — only replace the one that has failed. The others may be fine for many more miles.'], ['What does injector resistance tell me?', 'Compare to specs (typically 11-18 ohms for high-impedance injectors). Out of range means the injector is bad.']]),

c('P0206', 'Injector Circuit Malfunction - Cylinder 6', 'Cylinder 6 injector circuit fault. Only on 6+ cylinder engines.', 'high', 'Fuel', ['Cylinder 6 misfire', 'Rough running', 'Power loss'], [['Faulty injector', 'likely'], ['Wiring issue', 'possible']], ['Check connector', 'Test resistance', 'Swap injectors', 'Replace if bad'], 'Replace cylinder 6 injector', '$40 - $150', ['P0200', 'P0306', 'P0205'], undefined, [['Where is cylinder 6 on a V6?', 'On most V6 engines, cylinder 6 is at the back of bank 2. Check your engine firing order diagram.'], ['Can wiring harness damage cause injector codes?', 'Yes — heat from the engine can damage injector wiring over time, especially near the exhaust manifold.']]),

// ═══ ENGINE OVERTEMP / MISC (P0217-P0232) ═══
c('P0217', 'Engine Coolant Over Temperature', 'The engine coolant temperature has exceeded the safe limit. This is an overheating condition that can cause severe engine damage.', 'critical', 'Cooling', ['Temperature gauge in red zone', 'Steam from engine', 'Loss of power', 'Sweet smell of coolant'], [['Low coolant level (leak)', 'likely'], ['Failed water pump', 'possible'], ['Stuck-closed thermostat', 'possible'], ['Failed cooling fan', 'possible']], ['Pull over immediately and turn off engine', 'Check coolant level when cool', 'Inspect for coolant leaks', 'Check thermostat and water pump'], 'Fix coolant leak and replace thermostat', '$15 - $200', ['P0128', 'P0115', 'P0125'], 'coolant-flush', [['What should I do if my engine overheats?', 'Pull over immediately, turn off the engine, and let it cool for 30+ minutes. NEVER open the radiator cap when hot. Check coolant level when cool.'], ['Can overheating damage the engine?', 'Yes — overheating can warp the cylinder head, blow the head gasket, and cause catastrophic engine failure. Stop driving immediately.']]),

c('P0218', 'Transmission Fluid Over Temperature', 'Transmission fluid temperature is too high. Overheated transmission fluid breaks down and loses its lubricating properties.', 'critical', 'Transmission', ['Transmission slipping', 'Burnt fluid smell', 'Harsh shifting', 'Transmission warning light'], [['Towing or heavy load in hot weather', 'likely'], ['Low transmission fluid', 'likely'], ['Clogged transmission cooler', 'possible'], ['Failing torque converter', 'possible']], ['Stop towing and let transmission cool', 'Check transmission fluid level and condition', 'Inspect transmission cooler lines', 'Check if auxiliary cooler is needed'], 'Service transmission and add cooler if towing', '$50 - $300', ['P0700', 'P0740', 'P0217'], 'transmission-fluid-change', [['Can overheated transmission fluid damage the transmission?', 'Yes — every 20°F above normal cuts fluid life in half. Severely overheated fluid breaks down and causes internal damage.'], ['How hot is too hot for transmission fluid?', 'Most transmissions are designed for 175-200°F. Above 240°F, fluid begins to break down rapidly.']]),

c('P0219', 'Engine Over Speed Condition', 'The engine RPM exceeded the maximum safe limit. This is a rev-limiter or over-rev event.', 'high', 'Engine', ['Rev limiter hit', 'Possible valve float', 'Check engine light'], [['Missed upshift in manual transmission', 'likely'], ['Downshift to wrong gear', 'likely'], ['Transmission slip causing over-rev', 'possible'], ['Stuck throttle', 'unlikely']], ['Check transmission for proper shifting', 'Inspect throttle for sticking', 'Check for transmission codes', 'Clear code and monitor'], 'Address cause of over-rev condition', '$0 - $100', ['P0700', 'P0218'], undefined, [['Does P0219 damage the engine?', 'A brief over-rev usually causes no damage. Sustained high RPM can cause valve float, piston damage, or rod failure.'], ['Why did my car over-rev?', 'Most commonly from missing an upshift in a manual transmission, or a downshift to too low a gear. Check for transmission issues if it happened on its own.']]),

c('P0220', 'Throttle/Pedal Position Sensor B Circuit', 'The secondary TPS (sensor B) has a circuit fault. Modern drive-by-wire systems use two TPS for redundancy.', 'high', 'Fuel', ['Reduced power mode', 'Limp mode', 'Poor throttle response', 'Check engine light'], [['Faulty TPS B', 'likely'], ['Wiring issue to TPS B', 'possible'], ['Faulty throttle body', 'possible']], ['Check throttle body connector', 'Compare TPS A and TPS B readings', 'Check wiring for damage', 'Replace throttle body if integrated'], 'Replace throttle body or TPS', '$50 - $250', ['P0221', 'P0222', 'P0223'], undefined, [['What is TPS B?', 'Modern cars have two throttle position sensors (A and B) for safety. If they disagree, the ECM enters reduced power mode.'], ['Can I just replace one sensor?', 'On most modern cars, both TPS are integrated into the throttle body and must be replaced together.']]),

c('P0221', 'Throttle/Pedal Position Sensor B Range/Performance', 'TPS B reading is out of expected range compared to other throttle inputs.', 'high', 'Fuel', ['Reduced power mode', 'Hesitation', 'Inconsistent throttle response'], [['Faulty TPS B', 'likely'], ['Carbon buildup in throttle body', 'possible'], ['Wiring issue', 'possible']], ['Compare TPS A and B readings', 'Clean throttle body', 'Check wiring', 'Replace throttle body'], 'Clean throttle body or replace', '$10 - $250', ['P0220', 'P0222', 'P0121'], undefined, [['Can cleaning the throttle body fix P0221?', 'Sometimes yes — carbon buildup can prevent smooth operation and cause erratic TPS B readings.'], ['Is reduced power mode safe to drive in?', 'Yes, but speed is limited. Drive directly to a shop or home for repair.']]),

c('P0222', 'Throttle/Pedal Position Sensor B Circuit Low', 'TPS B voltage is too low.', 'high', 'Fuel', ['Limp mode', 'No throttle response', 'Check engine light'], [['Failed TPS B', 'likely'], ['Short to ground in wiring', 'possible']], ['Check TPS wiring', 'Measure TPS B voltage', 'Compare to TPS A', 'Replace throttle body'], 'Replace throttle body', '$100 - $250', ['P0220', 'P0223', 'P0122'], undefined, [['Why does my car go into limp mode?', 'When TPS A and TPS B disagree, the ECM cannot trust throttle position, so it limits power to prevent unintended acceleration.'], ['Is P0222 expensive?', 'If the throttle body needs replacement, expect $100-$250 DIY. Some vehicles allow TPS-only replacement for less.']]),

c('P0223', 'Throttle/Pedal Position Sensor B Circuit High', 'TPS B voltage is above maximum expected.', 'high', 'Fuel', ['High idle', 'Surging', 'Reduced power mode'], [['Failed TPS B', 'likely'], ['Open ground wire', 'possible']], ['Check TPS connector and ground', 'Measure voltage', 'Replace throttle body'], 'Replace throttle body', '$100 - $250', ['P0220', 'P0222', 'P0123'], undefined, [['What if both TPS A and TPS B are high?', 'If both read high, the throttle may be physically stuck open. Check for carbon buildup or a stuck throttle plate.'], ['Can I reset the throttle body after replacement?', 'Many vehicles require a throttle body relearn procedure after replacement. Some clear automatically; others need a scan tool.']]),

c('P0230', 'Fuel Pump Primary Circuit', 'The fuel pump relay or primary circuit has a fault. The fuel pump may not be getting power.', 'high', 'Fuel', ['No start or hard start', 'Engine stalls', 'Loss of power', 'No fuel pump hum when turning key'], [['Failed fuel pump relay', 'likely'], ['Blown fuel pump fuse', 'likely'], ['Bad wiring to fuel pump', 'possible'], ['Failed fuel pump', 'possible']], ['Check fuel pump fuse', 'Check fuel pump relay (swap with identical relay)', 'Listen for fuel pump prime when key turns to ON', 'Check for power at fuel pump connector'], 'Replace fuel pump relay or fuse', '$5 - $30', ['P0231', 'P0232', 'P0192'], 'fuel-pump-replacement', [['How do I know if the fuel pump is getting power?', 'Turn the key to ON (not start) and listen for a 2-second hum from the rear. No hum means no power to the pump.'], ['Where is the fuel pump relay?', 'Usually in the underhood fuse/relay box. Check the lid diagram for the fuel pump relay location.']]),

c('P0231', 'Fuel Pump Secondary Circuit Low', 'The fuel pump feedback circuit is reading low. The ECM is not seeing proper fuel pump operation.', 'high', 'Fuel', ['Engine stalls at speed', 'Hard starting', 'Loss of power under load', 'Engine dies when hot'], [['Failing fuel pump', 'likely'], ['Corroded fuel pump connector', 'possible'], ['Damaged wiring', 'possible'], ['Clogged fuel filter', 'possible']], ['Test fuel pressure at rail', 'Check fuel pump connector for corrosion', 'Check for voltage drop in fuel pump circuit', 'Replace fuel pump if pressure low'], 'Replace fuel pump', '$100 - $300', ['P0230', 'P0232', 'P0192'], 'fuel-pump-replacement', [['Can a fuel pump die intermittently?', 'Yes — fuel pumps often fail when hot. The car starts fine cold but stalls after warm-up. This is a common failure pattern.'], ['How long do fuel pumps last?', 'Most fuel pumps last 100,000-150,000 miles. Running the tank below 1/4 regularly shortens pump life.']]),

c('P0232', 'Fuel Pump Secondary Circuit High', 'Fuel pump circuit voltage is higher than expected.', 'medium', 'Fuel', ['Check engine light', 'Possible fuel smell', 'No driveability issue initially'], [['Short circuit in fuel pump wiring', 'likely'], ['Faulty fuel pump relay stuck on', 'possible'], ['ECM driver issue', 'unlikely']], ['Check fuel pump relay', 'Inspect wiring for shorts', 'Measure circuit voltage', 'Replace relay if stuck closed'], 'Replace fuel pump relay', '$10 - $30', ['P0230', 'P0231'], undefined, [['Is P0232 dangerous?', 'A fuel pump that runs continuously can overheat. More concerning, it means the pump cannot be shut off by the ECM in an accident.'], ['What does fuel pump secondary circuit mean?', 'The secondary circuit is the feedback or monitoring circuit that tells the ECM the fuel pump is actually running.']]),

// ═══ INJECTOR CIRCUIT (P0261-P0266) ═══
c('P0261', 'Cylinder 1 Injector Circuit Low', 'Low voltage in cylinder 1 injector driver circuit.', 'high', 'Fuel', ['Cylinder 1 misfire', 'Rough idle', 'Loss of power'], [['Short in injector wiring', 'likely'], ['Failed injector coil', 'possible'], ['ECM driver issue', 'unlikely']], ['Check injector connector', 'Measure injector resistance', 'Check wiring for shorts to ground', 'Replace injector if coil shorted'], 'Replace cylinder 1 injector', '$40 - $150', ['P0201', 'P0262', 'P0301'], undefined, [['What is injector circuit low?', 'It means the ECM sees low voltage/resistance in the injector circuit, often from a shorted injector coil.'], ['Can I test injector resistance?', 'Yes — unplug the injector and measure with a multimeter. Compare to specs (typically 11-18 ohms).']]),

c('P0262', 'Cylinder 1 Injector Circuit High', 'High voltage in cylinder 1 injector circuit. Usually open circuit.', 'high', 'Fuel', ['Cylinder 1 misfire', 'Rough idle', 'Loss of power'], [['Open injector circuit', 'likely'], ['Corroded connector', 'possible'], ['Broken wire', 'possible']], ['Check injector connector', 'Measure resistance (infinite = open)', 'Check wiring continuity', 'Replace injector'], 'Replace injector or repair wiring', '$40 - $150', ['P0201', 'P0261', 'P0301'], undefined, [['What does high circuit mean for an injector?', 'High circuit usually means an open connection — the injector is not getting its ground path back to the ECM.'], ['Can a corroded connector cause this?', 'Absolutely — corrosion in the injector connector is a very common cause of open-circuit injector codes.']]),

c('P0263', 'Cylinder 1 Contribution/Balance', 'Cylinder 1 is not contributing its fair share of power. The ECM detected a significant power imbalance.', 'high', 'Engine', ['Rough idle', 'Vibration', 'Loss of power', 'Possible misfire'], [['Faulty fuel injector', 'likely'], ['Low compression in cylinder 1', 'possible'], ['Ignition issue on cylinder 1', 'possible']], ['Run compression test on cylinder 1', 'Check injector operation', 'Check spark plug and coil', 'Compare contribution to other cylinders'], 'Repair cylinder 1 issue (injector, spark, or compression)', '$40 - $500', ['P0301', 'P0261', 'P0264'], 'spark-plug-replacement', [['What does contribution/balance mean?', 'The ECM monitors how much each cylinder contributes to engine speed. If one falls behind, it sets this code.'], ['Is this always an injector problem?', 'No — it could be spark plug, coil, compression, or injector. You need to diagnose which system is failing on that cylinder.']]),

c('P0264', 'Cylinder 2 Injector Circuit Low', 'Low voltage in cylinder 2 injector circuit.', 'high', 'Fuel', ['Cylinder 2 misfire', 'Rough idle'], [['Short in injector wiring', 'likely'], ['Failed injector', 'possible']], ['Check connector', 'Measure resistance', 'Check wiring'], 'Replace injector or repair wiring', '$40 - $150', ['P0202', 'P0265', 'P0302'], undefined, [['Is P0264 diagnosed the same as P0261?', 'Yes — same diagnosis process, just on cylinder 2. Check connector, measure resistance, test wiring.'], ['Can I drive with P0264?', 'The engine will run rough on one less cylinder. Drive only to get home or to a shop.']]),

c('P0265', 'Cylinder 2 Injector Circuit High', 'High/open circuit in cylinder 2 injector.', 'high', 'Fuel', ['Cylinder 2 misfire', 'Rough running'], [['Open injector circuit', 'likely'], ['Bad connector', 'possible']], ['Check connector', 'Measure resistance', 'Repair wiring'], 'Replace injector or repair wiring', '$40 - $150', ['P0202', 'P0264', 'P0302'], undefined, [['What should injector resistance be?', 'Most high-impedance injectors measure 11-18 ohms. Low-impedance (less common) measure 2-5 ohms.'], ['Can I replace just one injector?', 'Yes, though some mechanics recommend replacing all injectors if they are high-mileage. It is fine to replace just the failed one.']]),

c('P0266', 'Cylinder 2 Contribution/Balance', 'Cylinder 2 is not contributing adequate power.', 'high', 'Engine', ['Rough idle', 'Vibration', 'Power loss'], [['Bad injector', 'likely'], ['Low compression', 'possible'], ['Ignition fault', 'possible']], ['Compression test', 'Check injector', 'Check spark plug and coil'], 'Repair cylinder 2 issue', '$40 - $500', ['P0302', 'P0264', 'P0263'], 'spark-plug-replacement', [['How do I do a compression test?', 'Remove the spark plug, screw in a compression gauge, crank the engine 5-7 times. Compare all cylinders — they should be within 10% of each other.'], ['What is normal compression?', 'Most gasoline engines should read 125-180 PSI per cylinder. Below 100 PSI indicates a problem.']]),

// ═══ MISFIRES (P0300-P0308) ═══
c('P0300', 'Random/Multiple Cylinder Misfire Detected', 'The engine is misfiring across multiple cylinders. This is often caused by something that affects all cylinders — spark plugs, fuel quality, vacuum leak, or low compression.', 'high', 'Ignition', ['Rough idle', 'Flashing check engine light', 'Loss of power', 'Engine shaking or vibration'], [['Worn spark plugs', 'likely'], ['Bad ignition coils', 'possible'], ['Vacuum leak affecting multiple cylinders', 'possible'], ['Low fuel pressure', 'possible']], ['Check spark plugs — replace if worn or fouled', 'Inspect ignition coils for cracks', 'Check for vacuum leaks', 'Test fuel pressure'], 'Replace spark plugs', '$20 - $60', ['P0301', 'P0302', 'P0171'], 'spark-plug-replacement', [['Is P0300 serious?', 'Yes — a flashing check engine light means active misfires that can damage the catalytic converter. Pull over if the light flashes.'], ['Can bad gas cause P0300?', 'Yes — contaminated or low-octane fuel can cause random misfires. Try running a tank of premium fuel with fuel system cleaner.']]),

c('P0301', 'Cylinder 1 Misfire Detected', 'Cylinder 1 is misfiring — not firing properly. Could be spark plug, coil, injector, or compression issue on that specific cylinder.', 'high', 'Ignition', ['Rough idle', 'Loss of power', 'Check engine light (may flash)', 'Vibration'], [['Bad spark plug on cylinder 1', 'likely'], ['Faulty ignition coil on cylinder 1', 'likely'], ['Bad fuel injector', 'possible'], ['Low compression (valve or gasket)', 'possible']], ['Swap spark plug with known good cylinder — see if misfire moves', 'Swap coil with another cylinder — see if code follows', 'Check injector operation', 'Run compression test if spark and fuel are good'], 'Replace spark plug or ignition coil on cylinder 1', '$5 - $80', ['P0300', 'P0302', 'P0201'], 'spark-plug-replacement', [['How do I find cylinder 1?', 'Cylinder 1 location varies by engine. Check your repair manual. On most inline engines, it is at the front (belt end).'], ['Can I just replace one spark plug?', 'You can, but it is recommended to replace all plugs at the same time since they wear together.']]),

c('P0302', 'Cylinder 2 Misfire Detected', 'Cylinder 2 is misfiring.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light', 'Vibration'], [['Bad spark plug', 'likely'], ['Faulty ignition coil', 'likely'], ['Bad injector', 'possible'], ['Low compression', 'possible']], ['Swap plug or coil to another cylinder to test', 'Check injector', 'Compression test if spark/fuel OK'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0301', 'P0303'], 'spark-plug-replacement', [['Is the diagnosis the same for all cylinder misfires?', 'Yes — P0301 through P0308 are diagnosed the same way. Swap components to the affected cylinder to isolate the cause.'], ['What if the misfire does not follow the coil or plug?', 'Then the issue is specific to the cylinder — check injector, compression, or valve timing on that cylinder.']]),

c('P0303', 'Cylinder 3 Misfire Detected', 'Cylinder 3 is misfiring.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light', 'Vibration'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible'], ['Low compression', 'possible']], ['Swap plug/coil to test', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0302', 'P0304'], 'spark-plug-replacement', [['Why only cylinder 3?', 'If only one cylinder misfires, the cause is specific to that cylinder — its plug, coil, injector, or compression.'], ['How do coils fail?', 'Ignition coils fail from heat cycling, age, and sometimes from running with worn spark plugs that force higher voltage output.']]),

c('P0304', 'Cylinder 4 Misfire Detected', 'Cylinder 4 is misfiring.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible'], ['Low compression', 'possible']], ['Swap plug/coil to test', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0303', 'P0305'], 'spark-plug-replacement', [['Can a vacuum leak cause a single cylinder misfire?', 'If the leak is near one intake runner, yes. But usually vacuum leaks cause P0300 (random/multiple).'], ['What if new plugs and coils do not fix it?', 'Check fuel injector operation and run a compression test. Low compression means valve or head gasket issue.']]),

c('P0305', 'Cylinder 5 Misfire Detected', 'Cylinder 5 is misfiring. Only on 5+ cylinder engines.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Vibration'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible']], ['Swap plug/coil', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0304', 'P0306'], 'spark-plug-replacement', [['Do V6 engines often misfire on cylinder 5?', 'No specific cylinder is more prone. However, rear cylinders can be harder to service, leading to deferred maintenance.'], ['What if multiple specific cylinders misfire?', 'If cylinders on the same bank misfire, check for a bank-specific issue like a failed coil pack, intake leak, or head gasket.']]),

c('P0306', 'Cylinder 6 Misfire Detected', 'Cylinder 6 is misfiring. Only on 6+ cylinder engines.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible']], ['Swap plug/coil', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0305', 'P0307'], 'spark-plug-replacement', [['Is cylinder 6 hard to reach?', 'On V6 engines, cylinder 6 is usually at the back of bank 2. It can be harder to access than front cylinders.'], ['Do I need to replace all 6 coils?', 'Only if they are all original and high-mileage. Otherwise, just replace the failed one.']]),

c('P0307', 'Cylinder 7 Misfire Detected', 'Cylinder 7 is misfiring. Only on V8 engines.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible']], ['Swap plug/coil', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0306', 'P0308'], 'spark-plug-replacement', [['What V8 engines have cylinder 7 issues?', 'GM V8s with AFM/DFM (cylinder deactivation) sometimes have specific cylinder issues. Check for AFM-related problems.'], ['Is P0307 an emergency?', 'If the check engine light flashes, yes — pull over. Steady light means you can drive to a shop.']]),

c('P0308', 'Cylinder 8 Misfire Detected', 'Cylinder 8 is misfiring. Only on V8 engines.', 'high', 'Ignition', ['Rough idle', 'Power loss', 'Check engine light'], [['Bad spark plug', 'likely'], ['Faulty coil', 'likely'], ['Bad injector', 'possible']], ['Swap plug/coil', 'Check injector', 'Compression test'], 'Replace spark plug or coil', '$5 - $80', ['P0300', 'P0307'], 'spark-plug-replacement', [['How many spark plugs does a V8 need?', 'Standard V8: 8 plugs. HEMI with dual spark: 16 plugs.'], ['Is a V8 tune-up expensive?', 'DIY: $40-$120 for plugs. If adding coils, $200-$400. HEMI 16-plug engines are on the higher end.']]),

// ═══ KNOCK SENSOR (P0325-P0328) ═══
c('P0325', 'Knock Sensor 1 Circuit (Bank 1)', 'The knock sensor on bank 1 has a circuit fault. Without it, the ECM cannot detect engine knock (detonation) and must retard ignition timing for safety.', 'medium', 'Ignition', ['Reduced engine power', 'Poor fuel economy', 'Slight pinging under load', 'Check engine light'], [['Failed knock sensor', 'likely'], ['Corroded sensor connector', 'possible'], ['Wiring damage', 'possible'], ['Sensor not torqued properly', 'possible']], ['Inspect knock sensor connector', 'Check wiring for damage', 'Measure sensor resistance', 'Verify proper torque if recently serviced'], 'Replace knock sensor', '$20 - $50', ['P0327', 'P0328', 'P0332'], undefined, [['Can I drive without a knock sensor?', 'Yes, but the ECM retards timing for safety, reducing power and fuel economy by 5-10%.'], ['Where is the knock sensor?', 'Usually bolted to the engine block or under the intake manifold. On some engines it is hard to reach.']]),

c('P0327', 'Knock Sensor 1 Circuit Low (Bank 1)', 'Knock sensor signal is below expected minimum. Usually an open circuit or failed sensor.', 'medium', 'Ignition', ['Reduced power', 'Poor economy', 'Check engine light'], [['Failed knock sensor', 'likely'], ['Loose sensor', 'possible'], ['Open wire', 'possible']], ['Check sensor torque and connector', 'Measure resistance', 'Check wiring', 'Replace sensor'], 'Replace knock sensor', '$20 - $50', ['P0325', 'P0328'], undefined, [['What causes a knock sensor to fail?', 'Age, heat cycling, and corrosion. Knock sensors are piezoelectric and wear out over 100K+ miles.'], ['Does knock sensor torque matter?', 'Yes — knock sensors must be torqued to spec (typically 15-20 ft-lbs). Too loose or too tight causes incorrect readings.']]),

c('P0328', 'Knock Sensor 1 Circuit High (Bank 1)', 'Knock sensor signal is too high. Could be a noisy engine or a sensor fault.', 'medium', 'Ignition', ['Excessive timing retard', 'Loss of power', 'Check engine light'], [['Engine mechanical noise being misread', 'likely'], ['Faulty sensor', 'possible'], ['Short in wiring', 'possible']], ['Listen for engine mechanical noises', 'Check for exhaust leak near sensor', 'Replace sensor if no mechanical issue found'], 'Replace knock sensor or fix engine noise', '$20 - $200', ['P0325', 'P0327'], undefined, [['Can an exhaust leak cause P0328?', 'Yes — an exhaust leak near the knock sensor can create vibrations that the sensor interprets as knock.'], ['What if P0328 comes back after replacing the sensor?', 'There may be actual engine knock from carbon buildup, low octane fuel, or a mechanical problem causing excessive vibration.']]),

// ═══ CRANKSHAFT POSITION SENSOR (P0335-P0336) ═══
c('P0335', 'Crankshaft Position Sensor A Circuit', 'The ECM is not receiving a proper signal from the crankshaft position sensor. This sensor is critical for engine timing and fuel injection.', 'critical', 'Engine', ['No start or intermittent no-start', 'Engine stalls while driving', 'Tachometer drops to zero intermittently', 'Check engine light'], [['Failed crankshaft position sensor', 'likely'], ['Damaged reluctor ring (tone wheel)', 'possible'], ['Wiring or connector issue', 'possible'], ['Excessive crankshaft endplay', 'unlikely']], ['Check sensor connector for corrosion', 'Test sensor resistance and AC voltage output while cranking', 'Inspect reluctor ring for damage through sensor hole', 'Check wiring continuity'], 'Replace crankshaft position sensor', '$15 - $50', ['P0336', 'P0016', 'P0340'], 'crankshaft-sensor-replacement', [['Can a bad crank sensor cause a no-start?', 'Yes — the crankshaft position sensor is essential. Without it, the ECM cannot fire the spark plugs or injectors at the right time.'], ['How do crank sensors fail?', 'Heat is the #1 killer. The sensor works fine cold but fails when hot, causing intermittent stalling or no-starts.']]),

c('P0336', 'Crankshaft Position Sensor A Performance', 'The crank sensor signal is irregular or intermittent. The ECM can read the sensor but the signal quality is poor.', 'high', 'Engine', ['Intermittent stalling', 'Rough running', 'Occasional no-start', 'Tachometer fluctuates'], [['Failing crankshaft position sensor', 'likely'], ['Damaged or dirty reluctor ring', 'possible'], ['Excessive sensor air gap', 'possible'], ['Connector issue', 'possible']], ['Inspect sensor and connector', 'Check reluctor ring for missing teeth or debris', 'Verify sensor air gap', 'Replace sensor if signal erratic'], 'Replace crankshaft position sensor', '$15 - $50', ['P0335', 'P0016', 'P0340'], 'crankshaft-sensor-replacement', [['What is a reluctor ring?', 'The reluctor ring (tone wheel) is a toothed ring on the crankshaft. The sensor reads the teeth passing by to determine crank position and speed.'], ['Can metal debris cause P0336?', 'Yes — magnetic sensors attract metal shavings from normal engine wear. Cleaning the sensor tip sometimes resolves P0336.']]),

// ═══ CAMSHAFT POSITION SENSOR (P0340-P0356) ═══
c('P0340', 'Camshaft Position Sensor A Circuit (Bank 1)', 'No signal from the camshaft position sensor on bank 1. Needed for sequential fuel injection and ignition timing.', 'high', 'Engine', ['No start', 'Rough running', 'Loss of power', 'Check engine light'], [['Failed cam sensor', 'likely'], ['Wiring damage', 'possible'], ['Damaged reluctor', 'possible']], ['Check sensor connector', 'Test sensor output', 'Inspect wiring', 'Replace sensor'], 'Replace camshaft position sensor', '$15 - $50', ['P0341', 'P0335', 'P0016'], 'camshaft-sensor-replacement', [['Can a bad cam sensor cause no-start?', 'On some vehicles yes — the ECM needs both cam and crank signals to start.'], ['Is the cam sensor easy to replace?', 'Usually yes — it bolts to the cylinder head or valve cover. 15-30 minute job.']]),

c('P0341', 'Camshaft Position Sensor A Range/Performance (Bank 1)', 'Cam sensor signal is irregular or does not correlate with crank sensor.', 'high', 'Engine', ['Rough running', 'Stalling', 'Hard starting'], [['Failing cam sensor', 'likely'], ['Stretched timing chain', 'possible'], ['Damaged tone ring', 'possible']], ['Check sensor and wiring', 'Compare cam/crank signals', 'Inspect timing chain'], 'Replace cam sensor or timing chain', '$15 - $500', ['P0340', 'P0016', 'P0335'], 'camshaft-sensor-replacement', [['Can timing chain stretch cause P0341?', 'Yes — a stretched chain shifts the cam signal relative to the crank, causing a performance code.'], ['How to tell sensor vs chain?', 'Replace the sensor first (cheaper). If P0341 returns, check the timing chain.']]),

c('P0345', 'Camshaft Position Sensor A Circuit (Bank 2)', 'No signal from the bank 2 cam sensor.', 'high', 'Engine', ['No start or rough running', 'Loss of power'], [['Failed sensor', 'likely'], ['Wiring issue', 'possible']], ['Check connector', 'Test sensor', 'Replace if faulty'], 'Replace cam sensor bank 2', '$15 - $50', ['P0346', 'P0340', 'P0017'], 'camshaft-sensor-replacement', [['Do V-engines have two cam sensors?', 'Yes — one per bank on DOHC V-engines, sometimes more with VVT.'], ['Can I swap sensors to test?', 'If both banks use the same part, yes — swap and see if the code follows.']]),

c('P0346', 'Camshaft Position Sensor A Range/Performance (Bank 2)', 'Bank 2 cam sensor signal is out of expected range.', 'high', 'Engine', ['Rough running', 'Check engine light'], [['Failing sensor', 'likely'], ['Timing chain stretch', 'possible']], ['Check sensor', 'Compare cam/crank', 'Check chain'], 'Replace cam sensor', '$15 - $50', ['P0345', 'P0341', 'P0017'], 'camshaft-sensor-replacement', [['Is this the same diagnosis as P0341?', 'Yes, same process on bank 2.'], ['Should I replace both cam sensors?', 'Only if both are failing. Replace the one that triggered the code.']]),

c('P0351', 'Ignition Coil A Primary/Secondary Circuit', 'Coil on cylinder 1 has a circuit fault.', 'high', 'Ignition', ['Cylinder 1 misfire', 'Rough idle', 'Check engine light'], [['Failed ignition coil', 'likely'], ['Wiring issue', 'possible'], ['ECM driver', 'unlikely']], ['Swap coil with another cylinder', 'Check coil connector', 'Measure coil resistance'], 'Replace ignition coil', '$20 - $80', ['P0301', 'P0352', 'P0300'], 'ignition-coil-replacement', [['How do I test an ignition coil?', 'Swap it with another cylinder. If the misfire moves, the coil is bad.'], ['Can a bad spark plug kill a coil?', 'Yes — a worn plug with too wide a gap forces the coil to work harder, shortening its life.']]),

c('P0352', 'Ignition Coil B Primary/Secondary Circuit', 'Coil on cylinder 2 has a circuit fault.', 'high', 'Ignition', ['Cylinder 2 misfire', 'Rough idle'], [['Failed coil', 'likely'], ['Wiring issue', 'possible']], ['Swap coil', 'Check wiring', 'Replace if bad'], 'Replace ignition coil', '$20 - $80', ['P0302', 'P0351', 'P0353'], 'ignition-coil-replacement', [['Should I replace all coils at once?', 'Not necessary unless they are all original and high-mileage. Replace the one that failed.'], ['Are aftermarket coils OK?', 'Quality aftermarket coils work fine. Avoid the cheapest options — Delphi, Denso, and NGK are reliable.']]),

c('P0353', 'Ignition Coil C Primary/Secondary Circuit', 'Coil on cylinder 3 fault.', 'high', 'Ignition', ['Cylinder 3 misfire', 'Rough idle'], [['Failed coil', 'likely'], ['Wiring', 'possible']], ['Swap coil', 'Check wiring', 'Replace'], 'Replace ignition coil', '$20 - $80', ['P0303', 'P0352', 'P0354'], 'ignition-coil-replacement', [['How long do ignition coils last?', 'Typically 80,000-120,000 miles. Heat and vibration eventually cause failure.'], ['Can water cause coil failure?', 'Yes — coil boots can crack and let water in, causing a short. Common after driving through deep water.']]),

c('P0354', 'Ignition Coil D Primary/Secondary Circuit', 'Coil on cylinder 4 fault.', 'high', 'Ignition', ['Cylinder 4 misfire', 'Rough idle'], [['Failed coil', 'likely'], ['Wiring', 'possible']], ['Swap coil', 'Check wiring', 'Replace'], 'Replace ignition coil', '$20 - $80', ['P0304', 'P0353', 'P0355'], 'ignition-coil-replacement', [['What causes coils to fail early?', 'Running with worn spark plugs, heat soak from exhaust, and oil leaks onto coil boots.'], ['Can oil on a coil cause misfires?', 'Yes — oil from a leaking valve cover gasket can deteriorate the coil boot insulation.']]),

c('P0355', 'Ignition Coil E Primary/Secondary Circuit', 'Coil on cylinder 5 fault.', 'high', 'Ignition', ['Cylinder 5 misfire'], [['Failed coil', 'likely'], ['Wiring', 'possible']], ['Swap coil', 'Replace'], 'Replace ignition coil', '$20 - $80', ['P0305', 'P0354', 'P0356'], 'ignition-coil-replacement', [['Do all V6 engines have individual coils?', 'Most modern V6s use coil-on-plug (COP). Some older V6s use a coil pack with spark plug wires.'], ['How much to replace all coils on a V6?', 'DIY: $120-$480 for 6 coils. It is a good idea to also replace spark plugs at the same time.']]),

c('P0356', 'Ignition Coil F Primary/Secondary Circuit', 'Coil on cylinder 6 fault.', 'high', 'Ignition', ['Cylinder 6 misfire'], [['Failed coil', 'likely'], ['Wiring', 'possible']], ['Swap coil', 'Replace'], 'Replace ignition coil', '$20 - $80', ['P0306', 'P0355', 'P0300'], 'ignition-coil-replacement', [['Can a misfire damage the catalytic converter?', 'Yes — unburned fuel from a misfire enters the cat and can overheat it, causing permanent damage.'], ['How urgent is a coil replacement?', 'Fix within a week. A flashing check engine light means the cat is actively being damaged.']]),

// ═══ EGR / EMISSIONS (P0400-P0457) ═══
c('P0400', 'EGR Flow Malfunction', 'The EGR system flow is not within expected parameters.', 'medium', 'Emissions', ['Rough idle', 'Pinging under load', 'Failed emissions', 'Check engine light'], [['Carbon-clogged EGR valve', 'likely'], ['Stuck EGR valve', 'possible'], ['EGR passage blocked', 'possible']], ['Clean EGR valve and passages', 'Test EGR valve operation', 'Check vacuum lines to EGR'], 'Clean or replace EGR valve', '$20 - $150', ['P0401', 'P0402', 'P0403'], 'egr-valve-replacement', [['What does EGR do?', 'EGR recirculates exhaust gas back into the intake to lower combustion temperatures and reduce NOx emissions.'], ['Can I just remove the EGR?', 'Removing EGR is illegal for road vehicles and will fail emissions. It can also cause engine knock due to higher combustion temps.']]),

c('P0401', 'EGR Insufficient Flow', 'The EGR is not flowing enough exhaust gas. Usually carbon buildup blocking the passages.', 'medium', 'Emissions', ['Ping/knock under load', 'Failed emissions test', 'Check engine light'], [['Carbon buildup in EGR passages', 'likely'], ['Stuck-closed EGR valve', 'possible'], ['Failed EGR position sensor', 'possible']], ['Clean EGR valve and intake passages', 'Test EGR valve with vacuum pump', 'Check DPFE/EGR pressure sensor'], 'Clean EGR valve and passages', '$20 - $150', ['P0400', 'P0402', 'P0403'], 'egr-valve-replacement', [['Can I clean the EGR valve myself?', 'Yes — remove it and clean with carb cleaner and a brush. Also clean the intake port/passage.'], ['Is P0401 common on certain cars?', 'Very common on Fords with the DPFE sensor. Replacing the DPFE sensor often fixes it for $30-$50.']]),

c('P0402', 'EGR Excessive Flow', 'Too much exhaust gas is being recirculated, causing rough idle and stalling.', 'medium', 'Emissions', ['Rough idle', 'Stalling at idle', 'Hesitation', 'Check engine light'], [['EGR valve stuck open', 'likely'], ['Carbon holding EGR open', 'possible'], ['Faulty EGR control solenoid', 'possible']], ['Inspect EGR valve for carbon', 'Check EGR solenoid', 'Clean or replace EGR valve'], 'Clean or replace EGR valve', '$20 - $150', ['P0400', 'P0401', 'P0403'], 'egr-valve-replacement', [['Why does a stuck-open EGR cause rough idle?', 'At idle, the engine does not need EGR. Extra exhaust gas dilutes the fuel mixture, making it too lean to idle properly.'], ['Can a stuck EGR cause stalling?', 'Yes — if the EGR is stuck wide open at idle, the engine gets too much inert gas and cannot maintain idle.']]),

c('P0403', 'EGR Control Circuit', 'The EGR valve control solenoid or motor has a circuit fault.', 'medium', 'Emissions', ['Check engine light', 'EGR not functioning', 'Possible rough idle'], [['Failed EGR solenoid', 'likely'], ['Wiring issue', 'possible'], ['Failed EGR valve motor', 'possible']], ['Check EGR connector', 'Test solenoid/motor', 'Check wiring'], 'Replace EGR valve or solenoid', '$30 - $200', ['P0400', 'P0401', 'P0402'], 'egr-valve-replacement', [['Is the EGR solenoid part of the valve?', 'On modern vehicles, the solenoid is usually integrated into the EGR valve assembly.'], ['How much is an EGR valve?', 'EGR valves cost $30-$200 depending on the vehicle. Electronic EGR valves cost more than vacuum-operated ones.']]),

c('P0411', 'Secondary Air Injection System Incorrect Flow', 'The secondary air injection system is not flowing properly. This system pumps fresh air into the exhaust on cold starts to help the cat warm up.', 'low', 'Emissions', ['Check engine light', 'Failed emissions test', 'Slight noise from air pump on cold start'], [['Failed air pump', 'possible'], ['Stuck check valve', 'likely'], ['Clogged air injection passages', 'possible'], ['Relay or fuse issue', 'possible']], ['Check air pump relay and fuse', 'Listen for air pump on cold start', 'Inspect check valve for sticking', 'Check passages for carbon blockage'], 'Replace check valve or air pump', '$30 - $300', ['P0410', 'P0412', 'P0401'], undefined, [['What is secondary air injection?', 'It pumps fresh air into the exhaust manifold on cold starts to help the catalytic converter reach operating temperature faster.'], ['Is P0411 expensive to fix?', 'The check valve is cheap ($30-$50). If the air pump has failed, it can be $150-$300 for the pump.']]),

c('P0420', 'Catalyst System Efficiency Below Threshold (Bank 1)', 'The catalytic converter on bank 1 is not converting pollutants efficiently. This is one of the most common DTCs with ~200K monthly searches.', 'medium', 'Emissions', ['Check engine light', 'Failed emissions test', 'Slightly reduced fuel economy', 'Possible rotten egg smell'], [['Worn catalytic converter', 'likely'], ['Faulty downstream O2 sensor', 'possible'], ['Exhaust leak near sensors', 'possible'], ['Engine running rich (damaging the cat)', 'possible']], ['Check for O2 sensor codes first — fix those before replacing cat', 'Compare upstream vs downstream O2 waveforms', 'Check for exhaust leaks', 'Monitor fuel trims for rich/lean issues'], 'Replace catalytic converter or downstream O2 sensor', '$100 - $1,500', ['P0421', 'P0430', 'P0136'], 'catalytic-converter-replacement', [['Can I drive with P0420?', 'Yes, it is safe to drive. There are no driveability symptoms. However, you will fail emissions testing.'], ['Is P0420 always the catalytic converter?', 'No — about 30% of the time it is actually a bad downstream O2 sensor giving false readings. Replace the sensor first ($25-$80) before spending $500+ on a cat.']]),

c('P0421', 'Warm Up Catalyst Efficiency Below Threshold (Bank 1)', 'The bank 1 cat is not reaching efficiency during warm-up.', 'medium', 'Emissions', ['Check engine light', 'Failed emissions'], [['Aging catalytic converter', 'likely'], ['Faulty O2 sensor', 'possible']], ['Same diagnosis as P0420', 'Check downstream O2 sensor', 'Test cat efficiency'], 'Replace cat or downstream O2', '$100 - $1,500', ['P0420', 'P0430'], 'catalytic-converter-replacement', [['Is P0421 the same as P0420?', 'Very similar — P0421 specifically refers to the warm-up period. Same diagnostic approach.'], ['How long do catalytic converters last?', 'Factory cats typically last 100,000-150,000 miles. Aftermarket cats may only last 30,000-80,000 miles.']]),

c('P0430', 'Catalyst System Efficiency Below Threshold (Bank 2)', 'Same as P0420 but on bank 2. If both P0420 and P0430 are present, the issue may be systemic (engine running rich, etc.).', 'medium', 'Emissions', ['Check engine light', 'Failed emissions test'], [['Worn catalytic converter bank 2', 'likely'], ['Faulty downstream O2 sensor bank 2', 'possible'], ['Rich-running engine damaging both cats', 'possible']], ['Same approach as P0420 but on bank 2', 'If P0420 also present, check for engine-wide rich condition first'], 'Replace cat bank 2 or fix root cause', '$100 - $1,500', ['P0420', 'P0431', 'P0156'], 'catalytic-converter-replacement', [['Why do I have P0420 AND P0430?', 'Both cats failing together usually means something is damaging them — running rich, oil consumption, or coolant entering combustion.'], ['Can I use aftermarket catalytic converters?', 'In many states, yes. In California, you must use CARB-compliant converters. Aftermarket cats are much cheaper than OEM.']]),

c('P0431', 'Warm Up Catalyst Efficiency Below Threshold (Bank 2)', 'Bank 2 warm-up cat efficiency code.', 'medium', 'Emissions', ['Check engine light', 'Failed emissions'], [['Aging cat', 'likely'], ['Bad O2 sensor', 'possible']], ['Same as P0421 on bank 2'], 'Replace cat or O2 sensor', '$100 - $1,500', ['P0430', 'P0421'], 'catalytic-converter-replacement', [['Are bank 2 catalytic converters more expensive?', 'Not usually — but on some vehicles, one bank is harder to access, increasing labor cost.'], ['Can I clean a catalytic converter?', 'Some products claim to clean cats, but once the catalyst substrate is damaged, replacement is the only fix.']]),

c('P0440', 'EVAP System Malfunction', 'General EVAP system fault — the system that captures fuel vapors is not working properly.', 'low', 'EVAP', ['Check engine light', 'Faint fuel smell possible', 'Failed emissions test'], [['Loose or cracked gas cap', 'likely'], ['EVAP canister purge valve fault', 'possible'], ['EVAP vent valve fault', 'possible'], ['Cracked EVAP hose', 'possible']], ['Tighten gas cap and clear code', 'If code returns, inspect gas cap seal', 'Check purge and vent valves', 'Smoke test EVAP system'], 'Replace gas cap', '$5 - $15', ['P0441', 'P0442', 'P0455'], undefined, [['What is the EVAP system?', 'The EVAP system captures fuel vapors from the tank and routes them to the engine to be burned, preventing pollution.'], ['Can a loose gas cap cause P0440?', 'Yes — the #1 cause of EVAP codes is a loose, cracked, or missing gas cap. Tighten it and clear the code.']]),

c('P0441', 'EVAP System Incorrect Purge Flow', 'The EVAP purge flow is not within expected range.', 'low', 'EVAP', ['Check engine light', 'Slight fuel smell'], [['Faulty purge valve', 'likely'], ['Vacuum hose disconnect', 'possible'], ['Blocked purge line', 'possible']], ['Test purge valve operation', 'Check vacuum hoses', 'Inspect for blockages'], 'Replace purge valve', '$15 - $50', ['P0440', 'P0443', 'P0446'], undefined, [['What does the purge valve do?', 'The purge valve opens to allow fuel vapors stored in the charcoal canister to be drawn into the engine and burned.'], ['Is a purge valve easy to replace?', 'Usually yes — it is near the engine and connected by a hose and electrical connector. 15-minute job.']]),

c('P0442', 'EVAP System Small Leak Detected', 'A small leak in the EVAP system, often a deteriorated gas cap seal or a tiny crack in a hose.', 'low', 'EVAP', ['Check engine light', 'No driveability symptoms', 'Failed emissions test'], [['Deteriorated gas cap seal', 'likely'], ['Small crack in EVAP hose', 'possible'], ['Loose hose connection', 'possible'], ['Cracked charcoal canister', 'unlikely']], ['Replace gas cap (cheapest fix)', 'If code returns, smoke test EVAP system to find leak', 'Inspect all EVAP hoses and connections', 'Check canister and purge valve'], 'Replace gas cap', '$5 - $15', ['P0440', 'P0455', 'P0456'], undefined, [['Is P0442 serious?', 'Not at all — there is zero effect on driveability. It only matters for emissions testing.'], ['Can P0442 go away on its own?', 'Sometimes — if the gas cap was not fully tightened, tightening it and driving for a few days may clear it.']]),

c('P0443', 'EVAP Purge Control Valve Circuit', 'Electrical fault in the EVAP purge valve circuit.', 'low', 'EVAP', ['Check engine light', 'No driveability symptoms'], [['Failed purge valve', 'likely'], ['Wiring issue', 'possible']], ['Check purge valve connector', 'Test valve resistance', 'Replace valve'], 'Replace purge valve', '$15 - $50', ['P0441', 'P0444', 'P0445'], undefined, [['Where is the purge valve?', 'Usually on or near the intake manifold, connected to a vacuum hose and the charcoal canister.'], ['Can I test the purge valve?', 'Yes — apply 12V directly to the valve. You should hear it click and be able to blow through it when energized.']]),

c('P0444', 'EVAP Purge Control Valve Circuit Open', 'Open circuit in the purge valve wiring or the valve solenoid.', 'low', 'EVAP', ['Check engine light'], [['Open purge valve coil', 'likely'], ['Disconnected connector', 'possible'], ['Broken wire', 'possible']], ['Check connector', 'Measure coil resistance', 'Check wiring continuity'], 'Replace purge valve', '$15 - $50', ['P0443', 'P0445', 'P0441'], undefined, [['What does open circuit mean?', 'It means there is a break in the electrical path — either the valve coil burned out or a wire is disconnected.'], ['Is this the same fix as P0443?', 'Yes — same valve, same replacement. P0444 just specifies the type of fault (open circuit).']]),

c('P0445', 'EVAP Purge Control Valve Circuit Shorted', 'Short circuit in the purge valve.', 'low', 'EVAP', ['Check engine light'], [['Shorted purge valve coil', 'likely'], ['Short in wiring', 'possible']], ['Measure coil resistance', 'Check wiring for shorts', 'Replace valve'], 'Replace purge valve', '$15 - $50', ['P0443', 'P0444', 'P0441'], undefined, [['Can a shorted purge valve damage the ECM?', 'Unlikely but possible. The ECM has protection circuits, but a persistent short should be fixed promptly.'], ['How much is a purge valve?', 'Typically $15-$50 for the part. Very easy DIY replacement.']]),

c('P0446', 'EVAP Vent Control Circuit', 'Fault in the EVAP vent valve circuit. The vent valve allows the EVAP system to breathe.', 'low', 'EVAP', ['Check engine light', 'Possible fuel smell', 'Failed emissions'], [['Failed vent valve', 'likely'], ['Blocked vent filter', 'possible'], ['Wiring issue', 'possible']], ['Check vent valve connector', 'Test vent valve with 12V', 'Inspect vent filter for blockage', 'Replace valve'], 'Replace EVAP vent valve', '$20 - $60', ['P0447', 'P0448', 'P0440'], undefined, [['Where is the EVAP vent valve?', 'Usually near the charcoal canister, often under the vehicle near the fuel tank area.'], ['Can spider webs block the vent valve?', 'Yes — this is surprisingly common. Spiders build webs in the vent, blocking airflow and triggering P0446.']]),

c('P0447', 'EVAP Vent Control Circuit Open', 'Open circuit in the vent valve.', 'low', 'EVAP', ['Check engine light'], [['Open vent valve coil', 'likely'], ['Disconnected connector', 'possible']], ['Check connector', 'Measure resistance', 'Replace valve'], 'Replace vent valve', '$20 - $60', ['P0446', 'P0448', 'P0440'], undefined, [['Is this the same as P0446?', 'P0447 specifies an open circuit fault, while P0446 is a general circuit issue.'], ['Can I drive with P0447?', 'Yes — no driveability effect.']]),

c('P0448', 'EVAP Vent Control Circuit Shorted', 'Short circuit in the vent valve.', 'low', 'EVAP', ['Check engine light'], [['Shorted valve', 'likely'], ['Wiring short', 'possible']], ['Check wiring', 'Replace valve'], 'Replace vent valve', '$20 - $60', ['P0446', 'P0447'], undefined, [['What happens if the vent valve is stuck closed?', 'The fuel tank cannot breathe properly, potentially causing pressure buildup or vacuum in the tank.'], ['Can a vent valve cause hard fueling?', 'Yes — if the vent valve is stuck, the tank builds pressure, and the fuel pump nozzle clicks off repeatedly at the gas station.']]),

c('P0449', 'EVAP Vent Solenoid Control Circuit', 'Vent solenoid control circuit has a fault. Very common on GM trucks.', 'low', 'EVAP', ['Check engine light', 'Failed emissions'], [['Failed vent solenoid', 'likely'], ['Corroded connector', 'possible'], ['Wiring damage from road debris', 'possible']], ['Inspect vent solenoid (usually near rear of vehicle)', 'Check connector for corrosion', 'Test solenoid operation', 'Replace solenoid'], 'Replace vent solenoid', '$20 - $50', ['P0446', 'P0455', 'P0440'], undefined, [['Is P0449 common on GM trucks?', 'Extremely common on Chevy Silverado, GMC Sierra, and other GM trucks. The vent solenoid near the fuel tank fails frequently.'], ['Is it easy to replace?', 'Yes — it is behind the rear tire or near the fuel tank. 15-minute job with basic tools.']]),

c('P0450', 'EVAP Pressure Sensor Circuit', 'Fault in the fuel tank pressure sensor that monitors EVAP system for leaks.', 'low', 'EVAP', ['Check engine light', 'Failed emissions'], [['Failed pressure sensor', 'likely'], ['Wiring issue', 'possible']], ['Check sensor connector', 'Test sensor output', 'Replace sensor'], 'Replace fuel tank pressure sensor', '$30 - $80', ['P0451', 'P0452', 'P0453'], undefined, [['Where is the tank pressure sensor?', 'Usually on top of the fuel tank or integrated into the fuel pump module.'], ['Does it require dropping the tank?', 'On some vehicles yes. Others have access panels under the rear seat.']]),

c('P0451', 'EVAP Pressure Sensor Range/Performance', 'Fuel tank pressure sensor readings are erratic or out of range.', 'low', 'EVAP', ['Check engine light'], [['Failing pressure sensor', 'likely'], ['Intermittent connection', 'possible']], ['Check connector', 'Monitor sensor readings', 'Replace sensor'], 'Replace fuel tank pressure sensor', '$30 - $80', ['P0450', 'P0452', 'P0453'], undefined, [['Can altitude affect fuel tank pressure?', 'Yes — driving up mountains changes ambient pressure, but the ECM compensates for this.'], ['Is this sensor related to fuel gauge?', 'No — the fuel tank pressure sensor monitors vapor pressure, not fuel level.']]),

c('P0452', 'EVAP Pressure Sensor Low', 'Fuel tank pressure sensor reads too low.', 'low', 'EVAP', ['Check engine light'], [['Shorted sensor', 'likely'], ['Wiring short to ground', 'possible']], ['Check wiring', 'Test sensor', 'Replace'], 'Replace sensor', '$30 - $80', ['P0450', 'P0453'], undefined, [['What does low tank pressure mean?', 'Low sensor voltage could mean a short in the sensor or excessive vacuum in the tank.'], ['Is this urgent?', 'No — purely an emissions concern.']]),

c('P0453', 'EVAP Pressure Sensor High', 'Fuel tank pressure sensor reads too high.', 'low', 'EVAP', ['Check engine light', 'Possible fueling difficulty'], [['Open circuit in sensor', 'likely'], ['Disconnected connector', 'possible'], ['Blocked vent causing tank pressure', 'possible']], ['Check connector', 'Test sensor', 'Check vent valve'], 'Replace sensor or fix vent', '$30 - $80', ['P0450', 'P0452', 'P0446'], undefined, [['Can a blocked vent cause P0453?', 'Yes — if the tank cannot vent, pressure builds up, and the sensor correctly reads high. Fix the vent issue.'], ['Will this affect gas pump shutoff?', 'Possibly — high tank pressure can cause the pump nozzle to click off repeatedly.']]),

c('P0455', 'EVAP System Large Leak Detected', 'A significant leak in the EVAP system. Often a loose gas cap or a disconnected hose.', 'low', 'EVAP', ['Check engine light', 'Possible fuel smell', 'Failed emissions'], [['Loose or missing gas cap', 'likely'], ['Disconnected EVAP hose', 'possible'], ['Cracked canister or hose', 'possible'], ['Failed purge or vent valve stuck open', 'possible']], ['Check gas cap — tighten or replace', 'Visual inspection of all EVAP hoses', 'Smoke test EVAP system if cap is OK', 'Check purge and vent valve operation'], 'Replace gas cap or fix disconnected hose', '$5 - $50', ['P0440', 'P0442', 'P0456'], undefined, [['Is P0455 the gas cap code?', 'Most often yes. A loose, cracked, or missing gas cap is the #1 cause of P0455.'], ['How long after tightening the cap does the code clear?', 'The code clears after 2-3 drive cycles (cold start, warm up, highway driving) if the leak is fixed.']]),

c('P0456', 'EVAP System Very Small Leak Detected', 'A very small leak in the EVAP system — smaller than P0442.', 'low', 'EVAP', ['Check engine light', 'No driveability symptoms'], [['Aging gas cap seal', 'likely'], ['Tiny crack in EVAP hose', 'possible'], ['Micro-crack in canister', 'unlikely']], ['Replace gas cap first', 'Smoke test if cap replacement does not fix it', 'Inspect all hose connections closely'], 'Replace gas cap', '$5 - $15', ['P0455', 'P0442', 'P0440'], undefined, [['Is P0456 hard to find?', 'Very small leaks can be difficult to find. A professional-grade smoke test machine is often needed.'], ['Can temperature changes cause P0456?', 'Cold weather can temporarily trigger EVAP codes as seals contract. If it only appears in winter, the gas cap seal may be marginal.']]),

c('P0457', 'EVAP System Leak Detected (Fuel Cap Loose/Off)', 'Specifically triggered by a loose or missing fuel cap. Some vehicles have a dedicated sensor for this.', 'low', 'EVAP', ['Check engine light', 'Gas cap warning message on some vehicles'], [['Loose gas cap', 'likely'], ['Damaged gas cap seal', 'likely'], ['Missing gas cap', 'possible']], ['Remove and reinstall gas cap until it clicks', 'Inspect cap seal for cracks', 'Replace cap if seal is damaged'], 'Tighten or replace gas cap', '$5 - $15', ['P0455', 'P0440', 'P0442'], undefined, [['Will a gas cap fix P0457?', 'Almost always yes — P0457 is specifically the gas cap code on many vehicles.'], ['How much is a replacement gas cap?', 'OEM gas caps are $10-$25. Aftermarket caps are $5-$15 but make sure they have the right seal for your vehicle.']]),

// ═══ VEHICLE SPEED / IDLE (P0500-P0533) ═══
c('P0500', 'Vehicle Speed Sensor A', 'The ECM is not receiving a proper vehicle speed signal. Affects speedometer, ABS, and transmission shift points.', 'medium', 'Transmission', ['Speedometer not working', 'Transmission not shifting properly', 'ABS/traction light on', 'Cruise control not working'], [['Failed VSS', 'likely'], ['Wiring issue', 'possible'], ['Damaged tone ring', 'possible']], ['Check VSS connector', 'Test VSS output', 'Inspect wiring', 'Replace VSS'], 'Replace vehicle speed sensor', '$15 - $50', ['P0501', 'P0502', 'P0503'], undefined, [['Where is the vehicle speed sensor?', 'Usually on the transmission output shaft or on the differential. Some use wheel speed sensors via ABS module.'], ['Can I drive without a speed sensor?', 'The car will drive but the transmission may not shift correctly, and the speedometer will not work. Fix it promptly.']]),

c('P0505', 'Idle Air Control System', 'The idle air control (IAC) valve is not maintaining proper idle speed.', 'medium', 'Engine', ['Erratic idle speed', 'Stalling when coming to a stop', 'High idle', 'Hunting idle'], [['Carbon-clogged IAC valve', 'likely'], ['Failed IAC valve', 'possible'], ['Vacuum leak affecting idle', 'possible'], ['Dirty throttle body', 'possible']], ['Clean IAC valve and port', 'Clean throttle body', 'Check for vacuum leaks', 'Replace IAC if cleaning does not help'], 'Clean or replace IAC valve', '$10 - $80', ['P0506', 'P0507', 'P0510'], undefined, [['Can I clean the IAC valve?', 'Yes — remove it and spray the pintle and port with throttle body cleaner. This fixes P0505 about 60% of the time.'], ['What is normal idle speed?', 'Most engines idle at 600-800 RPM when warm. Higher or lower than this range indicates an idle control problem.']]),

c('P0506', 'Idle Air Control System RPM Lower Than Expected', 'Idle speed is too low. The IAC is trying to raise it but cannot.', 'medium', 'Engine', ['Low idle speed', 'Stalling at stops', 'Rough idle'], [['Carbon buildup in throttle body/IAC', 'likely'], ['Vacuum leak', 'possible'], ['Failing IAC valve', 'possible']], ['Clean throttle body and IAC', 'Check for vacuum leaks', 'Replace IAC valve if cleaning fails'], 'Clean throttle body/IAC', '$5 - $80', ['P0505', 'P0507'], undefined, [['Why does my car stall at red lights?', 'Low idle speed from a dirty IAC or throttle body cannot keep the engine running when you take your foot off the gas.'], ['Can a dirty throttle body cause P0506?', 'Absolutely — carbon buildup restricts airflow at idle. Cleaning it is the first thing to try.']]),

c('P0507', 'Idle Air Control System RPM Higher Than Expected', 'Idle speed is too high. Something is allowing too much air into the engine at idle.', 'medium', 'Engine', ['High idle speed (1000+ RPM)', 'Engine races at stops', 'Difficult to slow down'], [['Vacuum leak', 'likely'], ['Stuck IAC valve', 'possible'], ['Throttle body sticking open', 'possible'], ['Intake manifold gasket leak', 'possible']], ['Check for vacuum leaks', 'Clean throttle body', 'Test IAC valve', 'Check intake manifold gaskets'], 'Fix vacuum leak or replace IAC', '$0 - $80', ['P0505', 'P0506', 'P0171'], undefined, [['Is high idle dangerous?', 'Not directly dangerous but it wastes fuel and makes the car lurch forward when put in gear. Fix it for safety.'], ['Can a vacuum leak cause high idle?', 'Yes — a vacuum leak lets unmetered air in, raising idle speed. The ECM adds fuel but cannot reduce the extra air.']]),

c('P0562', 'System Voltage Low', 'Battery/charging system voltage is below normal operating range.', 'medium', 'Electrical', ['Dim lights', 'Battery warning light', 'Slow cranking', 'Electrical accessories malfunction'], [['Failing alternator', 'likely'], ['Corroded battery terminals', 'possible'], ['Loose alternator belt', 'possible'], ['Dying battery', 'possible']], ['Check battery voltage (should be 12.4-12.7V engine off, 13.5-14.5V running)', 'Clean battery terminals', 'Check alternator belt tension', 'Test alternator output'], 'Replace alternator or clean terminals', '$20 - $250', ['P0563', 'P0620', 'P0622'], 'alternator-replacement', [['What voltage should my car have?', 'Engine off: 12.4-12.7V. Engine running: 13.5-14.5V. Below 13.5V running means the alternator is not charging properly.'], ['Can a bad battery cause P0562?', 'A dying battery can cause voltage drops, but the alternator should compensate. Test both the battery and alternator.']]),

c('P0563', 'System Voltage High', 'Charging system voltage is too high, potentially damaging electrical components.', 'high', 'Electrical', ['Bright/flickering lights', 'Burning smell from electronics', 'Battery swelling', 'Blown bulbs'], [['Failed voltage regulator (in alternator)', 'likely'], ['Bad ground connection', 'possible'], ['ECM voltage sensing issue', 'unlikely']], ['Measure voltage at battery (should be 13.5-14.5V running)', 'If over 15V, voltage regulator has failed', 'Check ground connections', 'Replace alternator'], 'Replace alternator', '$150 - $300', ['P0562', 'P0620'], 'alternator-replacement', [['Is overcharging dangerous?', 'Yes — voltage above 15V can damage the battery, ECM, and other electronics. Fix immediately.'], ['Can I just replace the voltage regulator?', 'On some older vehicles yes. On most modern cars, the regulator is inside the alternator and the whole unit must be replaced.']]),

// ═══ ECM / COMPUTER (P0600-P0660) ═══
c('P0600', 'Serial Communication Link', 'Communication error within the ECM or between the ECM and scan tool.', 'medium', 'Electrical', ['Check engine light', 'Scan tool communication issues', 'Multiple random codes'], [['ECM internal fault', 'possible'], ['Poor ground connection', 'likely'], ['Damaged OBD2 port', 'possible']], ['Check all ECM ground connections', 'Inspect OBD2 port for damage', 'Try different scan tool', 'Check ECM connector'], 'Repair ground connection or replace ECM', '$0 - $500', ['P0601', 'P0602'], undefined, [['Does P0600 mean the computer is bad?', 'Not necessarily — check grounds and connections first. A corroded ground is a much more common cause than a failed ECM.'], ['Is ECM replacement expensive?', 'ECMs cost $200-$800 and may need programming. Always rule out wiring issues first.']]),

c('P0601', 'ECM/PCM Memory Check Sum Error', 'The ECM internal memory has a checksum error, indicating data corruption.', 'high', 'Electrical', ['Multiple random codes', 'Erratic engine behavior', 'Check engine light'], [['ECM software corruption', 'likely'], ['ECM hardware failure', 'possible'], ['Low voltage during update', 'possible']], ['Try ECM reflash/reprogram', 'Check battery and charging system', 'Replace ECM if reflash fails'], 'ECM reflash or replacement', '$100 - $800', ['P0600', 'P0602', 'P0606'], undefined, [['Can an ECM be reprogrammed?', 'Yes — many ECM issues are solved by reflashing the latest software. Dealers and some shops can do this for $100-$200.'], ['What causes ECM corruption?', 'Voltage spikes, jump-starting incorrectly, or low battery voltage during a software update.']]),

c('P0700', 'Transmission Control System', 'The TCM (Transmission Control Module) has detected a fault and sent a message to the ECM. This is a general indicator that transmission-specific codes are stored.', 'medium', 'Transmission', ['Check engine light', 'Transmission warning light', 'Harsh or delayed shifting', 'Limp mode'], [['Transmission solenoid failure', 'likely'], ['Low transmission fluid', 'likely'], ['Wiring issue to transmission', 'possible'], ['TCM failure', 'possible']], ['Check transmission fluid level and condition', 'Scan for transmission-specific codes (P07xx)', 'Check wiring to transmission', 'Service transmission if fluid is dark'], 'Varies — depends on specific transmission codes', '$50 - $1,000', ['P0730', 'P0740', 'P0750'], 'transmission-fluid-change', [['Is P0700 always a transmission problem?', 'P0700 itself just means the TCM flagged an issue. Scan specifically for transmission codes (P07xx) to identify the actual problem.'], ['Can low fluid cause P0700?', 'Yes — low or degraded transmission fluid is one of the most common causes. Check fluid level and condition first.']]),

// ═══ TRANSMISSION (P0705-P0765) ═══
c('P0705', 'Transmission Range Sensor Circuit', 'The transmission range sensor (gear selector position) has a fault.', 'medium', 'Transmission', ['Incorrect gear display', 'No start in Park/Neutral', 'Wrong shift pattern'], [['Faulty range sensor', 'likely'], ['Misadjusted sensor', 'possible'], ['Wiring issue', 'possible']], ['Check sensor adjustment', 'Test sensor resistance', 'Check wiring', 'Replace sensor'], 'Replace or adjust range sensor', '$30 - $100', ['P0700', 'P0706', 'P0707'], undefined, [['What is the transmission range sensor?', 'It tells the ECM which gear the shifter is in (P, R, N, D, etc.) for proper shift logic and starter engagement.'], ['Can a bad range sensor prevent starting?', 'Yes — the car may not recognize it is in Park or Neutral, preventing the starter from engaging.']]),

c('P0715', 'Input/Turbine Speed Sensor Circuit', 'No signal from the transmission input speed sensor.', 'high', 'Transmission', ['Harsh shifting', 'No speedometer', 'Transmission slipping', 'Limp mode'], [['Failed input speed sensor', 'likely'], ['Wiring issue', 'possible'], ['Damaged tone ring inside transmission', 'unlikely']], ['Check sensor connector', 'Test sensor resistance', 'Check wiring', 'Replace sensor'], 'Replace input speed sensor', '$20 - $60', ['P0720', 'P0700', 'P0716'], undefined, [['Is the input speed sensor inside the transmission?', 'Usually it threads into the transmission case from outside. Accessible without removing the transmission.'], ['Can this cause transmission damage?', 'Incorrect shifting from a bad sensor can cause premature wear. Fix promptly.']]),

c('P0720', 'Output Speed Sensor Circuit', 'No signal from the transmission output speed sensor.', 'high', 'Transmission', ['No speedometer', 'Harsh shifting', 'Limp mode'], [['Failed output speed sensor', 'likely'], ['Wiring issue', 'possible']], ['Check sensor connector', 'Test sensor', 'Replace sensor'], 'Replace output speed sensor', '$20 - $60', ['P0715', 'P0500', 'P0700'], undefined, [['Is the output speed sensor the same as the vehicle speed sensor?', 'On some vehicles, yes. On others, they are separate sensors.'], ['Can this affect the speedometer?', 'Yes — the output speed sensor is often used for speedometer calculations.']]),

c('P0730', 'Incorrect Gear Ratio', 'The TCM detects that the actual gear ratio does not match the commanded gear.', 'high', 'Transmission', ['Transmission slipping', 'RPM flares during shifts', 'Harsh engagement', 'Check engine light'], [['Low or burnt transmission fluid', 'likely'], ['Worn clutch packs', 'possible'], ['Faulty shift solenoid', 'possible'], ['Internal transmission damage', 'possible']], ['Check transmission fluid level and condition', 'If fluid is dark/burnt, service transmission', 'Check for specific solenoid codes', 'Transmission may need rebuild if fluid is OK'], 'Transmission fluid service or rebuild', '$50 - $3,000', ['P0700', 'P0731', 'P0740'], 'transmission-fluid-change', [['Is P0730 a death sentence for the transmission?', 'Not necessarily — it could be as simple as low fluid. Check fluid first. If fluid is fresh and full, internal wear is more likely.'], ['How much does a transmission rebuild cost?', 'Professional rebuild: $1,500-$3,500. Remanufactured transmission: $1,000-$2,500. Always check fluid first.']]),

c('P0740', 'Torque Converter Clutch Circuit', 'Fault in the torque converter clutch (TCC) solenoid circuit.', 'medium', 'Transmission', ['Slight shudder at highway speed', 'Reduced fuel economy', 'Check engine light'], [['Failed TCC solenoid', 'likely'], ['Wiring issue', 'possible'], ['Worn torque converter', 'possible']], ['Check TCC solenoid resistance', 'Check wiring to transmission', 'Scan for related codes', 'May need solenoid replacement'], 'Replace TCC solenoid', '$30 - $100', ['P0741', 'P0700', 'P0730'], 'transmission-fluid-change', [['What is the torque converter clutch?', 'The TCC locks the torque converter at highway speed for better fuel economy. It is like a clutch inside the automatic transmission.'], ['Can I drive with P0740?', 'Yes, but fuel economy drops 2-3 MPG and you may feel a slight shudder. Not urgent but fix when convenient.']]),

c('P0741', 'Torque Converter Clutch Circuit Performance/Stuck Off', 'The TCC is not engaging when commanded.', 'medium', 'Transmission', ['Reduced fuel economy', 'Higher RPM at highway speed', 'Slight slip feeling'], [['Failed TCC solenoid', 'likely'], ['Dirty transmission fluid', 'likely'], ['Worn torque converter', 'possible']], ['Check transmission fluid condition', 'Service transmission fluid', 'Test TCC solenoid', 'Replace solenoid or converter'], 'Transmission fluid change and TCC solenoid', '$50 - $300', ['P0740', 'P0700', 'P0744'], 'transmission-fluid-change', [['Will a fluid change fix P0741?', 'Sometimes yes — dirty fluid prevents the TCC from engaging. A fluid change is always the first step.'], ['What happens if TCC never engages?', 'The transmission works fine but the torque converter slips at highway speed, reducing fuel economy by 2-4 MPG.']]),

c('P0750', 'Shift Solenoid A', 'General fault with shift solenoid A.', 'high', 'Transmission', ['Stuck in one gear', 'No upshift', 'Limp mode', 'Harsh shifting'], [['Failed solenoid A', 'likely'], ['Wiring issue', 'possible'], ['Dirty transmission fluid', 'possible']], ['Check fluid level and condition', 'Test solenoid resistance', 'Check wiring', 'Replace solenoid'], 'Replace shift solenoid A or service transmission', '$30 - $200', ['P0751', 'P0753', 'P0700'], 'transmission-fluid-change', [['Will the transmission get stuck in gear?', 'Often yes — the transmission enters limp mode (usually 3rd gear only) to protect itself.'], ['Can I replace just one solenoid?', 'Yes, but many mechanics recommend replacing the entire solenoid pack since the labor to access them is the expensive part.']]),

// ═══ P2xxx EXTENDED POWERTRAIN ═══
c('P2096', 'Post Catalyst Fuel Trim System Too Lean (Bank 1)', 'The fuel system downstream of the cat on bank 1 is running lean.', 'medium', 'Emissions', ['Check engine light', 'Slight performance reduction'], [['Exhaust leak after cat', 'likely'], ['Faulty downstream O2 sensor', 'possible'], ['Catalytic converter issue', 'possible']], ['Check for exhaust leaks', 'Test downstream O2 sensor', 'Check cat efficiency'], 'Fix exhaust leak or replace O2 sensor', '$20 - $200', ['P2097', 'P0420', 'P0137'], 'oxygen-sensor-replacement', [['Is P2096 the same as P0420?', 'Related but different. P2096 is about fuel trim downstream of the cat. P0420 is about cat efficiency. Both can be caused by O2 sensor issues.'], ['Can an exhaust leak cause P2096?', 'Yes — a leak after the cat lets oxygen in, making the downstream sensor read lean.']]),

c('P2097', 'Post Catalyst Fuel Trim System Too Rich (Bank 1)', 'Fuel system downstream of cat on bank 1 is too rich.', 'medium', 'Emissions', ['Check engine light'], [['Faulty downstream O2', 'likely'], ['Rich upstream condition', 'possible']], ['Check O2 sensors', 'Check upstream fuel trim', 'Fix rich condition'], 'Replace O2 sensor or fix rich condition', '$25 - $200', ['P2096', 'P0420', 'P0138'], 'oxygen-sensor-replacement', [['Can upstream rich running cause P2097?', 'Yes — if the engine runs rich, unburned fuel passes through the cat and the downstream sensor detects it.'], ['Should I replace the cat for P2097?', 'Usually no — fix the O2 sensor or upstream rich condition first.']]),

c('P2101', 'Throttle Actuator Control Motor Circuit Range/Performance', 'The electronic throttle motor is not responding as expected.', 'high', 'Fuel', ['Reduced power mode', 'Check engine light', 'No throttle response'], [['Failed throttle body motor', 'likely'], ['Carbon buildup preventing movement', 'possible'], ['Wiring issue', 'possible']], ['Clean throttle body', 'Check wiring', 'Replace throttle body'], 'Clean or replace throttle body', '$10 - $250', ['P2111', 'P2112', 'P0121'], undefined, [['Can cleaning fix P2101?', 'Sometimes — heavy carbon can prevent the throttle plate from moving smoothly. Try cleaning first.'], ['What is drive-by-wire?', 'Modern vehicles use an electric motor instead of a cable to control the throttle. P2101 means this motor is not working correctly.']]),

c('P2135', 'Throttle/Pedal Position Sensor Voltage Correlation', 'TPS sensor A and B voltages do not agree. The ECM cannot trust throttle position.', 'high', 'Fuel', ['Reduced power mode', 'Limp mode', 'Check engine light', 'No acceleration'], [['Faulty TPS (inside throttle body)', 'likely'], ['Wiring issue to throttle body', 'possible'], ['Corroded connector', 'possible']], ['Check throttle body connector', 'Compare TPS A and B readings', 'Check for wiring damage', 'Replace throttle body'], 'Replace throttle body', '$100 - $300', ['P0120', 'P0220', 'P2101'], undefined, [['Is P2135 expensive?', 'Throttle body replacement is $100-$300 DIY. Often needs a relearn procedure after installation.'], ['Can I just replace the TPS?', 'On most modern vehicles, the TPS is integrated into the throttle body. The whole assembly must be replaced.']]),

c('P2177', 'System Too Lean Off Idle (Bank 1)', 'Bank 1 runs lean specifically when off-idle (accelerating). This often points to a fuel delivery issue under load.', 'medium', 'Fuel', ['Hesitation on acceleration', 'Lean misfire under load', 'Check engine light'], [['Clogged fuel injector', 'likely'], ['Weak fuel pump under load', 'possible'], ['Air leak in intake', 'possible']], ['Check fuel pressure under load', 'Clean or test fuel injectors', 'Check for intake leaks'], 'Clean injectors or replace fuel pump', '$15 - $300', ['P0171', 'P2178', 'P2187'], 'fuel-pump-replacement', [['What is the difference between P2177 and P0171?', 'P0171 is lean at all times. P2177 is lean specifically off-idle (during acceleration), suggesting a fuel delivery problem under load.'], ['Can fuel injector cleaner help?', 'Yes — a good fuel injector cleaner ($8-$15) can fix partially clogged injectors causing lean conditions under load.']]),

c('P2178', 'System Too Rich Off Idle (Bank 1)', 'Bank 1 runs rich off-idle.', 'medium', 'Fuel', ['Poor fuel economy', 'Hesitation', 'Black smoke on acceleration'], [['Leaking injector', 'likely'], ['Faulty MAP/MAF', 'possible']], ['Check fuel pressure', 'Test injectors', 'Check MAF/MAP'], 'Fix leaking injector', '$40 - $200', ['P0172', 'P2177', 'P2188'], undefined, [['What causes rich condition only when accelerating?', 'A leaking injector or incorrect sensor reading (MAP/MAF) that causes the ECM to add too much fuel during acceleration.'], ['Can this damage the catalytic converter?', 'Yes — rich running sends unburned fuel into the cat, potentially overheating and destroying it.']]),

// ═══ B-CODES (BODY) ═══
c('B0001', 'Driver Frontal Stage 1 Deployment Control', 'Fault in the driver airbag deployment circuit. The airbag may not deploy in a crash.', 'critical', 'Body/Electrical', ['Airbag warning light on', 'SRS light illuminated'], [['Clock spring failure', 'likely'], ['Airbag module fault', 'possible'], ['Wiring issue in steering column', 'possible']], ['Scan for specific SRS codes', 'Check clock spring', 'Inspect airbag connector', 'Have SRS system professionally inspected'], 'Replace clock spring', '$50 - $200', ['B0002', 'B0010'], undefined, [['Is driving with an airbag light dangerous?', 'The airbag may not deploy in a crash. Get it checked as soon as possible.'], ['What is a clock spring?', 'The clock spring is a ribbon cable in the steering column that maintains electrical connection to the airbag as you turn the wheel.']]),

c('B0010', 'Passenger Frontal Stage 1 Deployment Control', 'Fault in the passenger airbag circuit.', 'critical', 'Body/Electrical', ['Airbag warning light', 'Passenger airbag off indicator'], [['Faulty airbag module', 'possible'], ['Wiring under seat', 'possible'], ['Seat occupancy sensor', 'possible']], ['Scan SRS system', 'Check seat occupancy sensor', 'Inspect wiring under passenger seat'], 'Professional SRS diagnosis required', '$50 - $300', ['B0001', 'B0015'], undefined, [['Can I fix airbag codes myself?', 'SRS work should be done by professionals. Airbags contain explosives and can deploy during repair, causing injury.'], ['Will the passenger airbag still work?', 'It may not deploy properly. Have it inspected by a qualified technician.']]),

c('B1318', 'Battery Voltage Low', 'The body control module detects low battery voltage.', 'medium', 'Body/Electrical', ['Various electrical malfunctions', 'Slow power windows', 'Dim interior lights', 'BCM warning'], [['Weak battery', 'likely'], ['Failing alternator', 'possible'], ['Parasitic drain', 'possible']], ['Test battery voltage', 'Test alternator output', 'Check for parasitic drain'], 'Replace battery or alternator', '$100 - $300', ['P0562', 'B1342'], 'battery-replacement', [['How do I test for parasitic drain?', 'With engine off, put a multimeter in series with the battery negative cable. Anything over 50mA indicates a drain.'], ['Can a weak battery cause multiple codes?', 'Yes — low voltage causes erratic behavior in multiple modules, often setting numerous codes. Fix the battery first and see if codes clear.']]),

// ═══ C-CODES (CHASSIS) ═══
c('C0035', 'Left Front Wheel Speed Sensor Circuit', 'ABS module is not receiving a signal from the left front wheel speed sensor.', 'medium', 'Chassis/Brakes', ['ABS light on', 'Traction control light on', 'ABS not functioning', 'Possible speedometer issue'], [['Failed wheel speed sensor', 'likely'], ['Damaged sensor wiring (road debris)', 'likely'], ['Contaminated sensor (metallic debris)', 'possible'], ['Damaged tone ring', 'possible']], ['Inspect sensor and wiring', 'Check sensor air gap', 'Clean sensor tip', 'Replace sensor'], 'Replace wheel speed sensor', '$20 - $60', ['C0040', 'C0045', 'C0050'], undefined, [['Is driving without ABS safe?', 'You still have normal brakes. ABS prevents wheel lockup during hard braking. Drive more carefully in rain/snow until fixed.'], ['Can I clean a wheel speed sensor?', 'Yes — metal shavings from brake dust can accumulate on the magnetic sensor tip. Cleaning sometimes fixes the code.']]),

c('C0040', 'Right Front Wheel Speed Sensor Circuit', 'ABS lost signal from the right front wheel speed sensor.', 'medium', 'Chassis/Brakes', ['ABS light on', 'Traction control disabled', 'Stability control off'], [['Failed sensor', 'likely'], ['Damaged wiring', 'likely'], ['Dirty sensor', 'possible']], ['Inspect sensor and wiring', 'Clean sensor', 'Replace if damaged'], 'Replace wheel speed sensor', '$20 - $60', ['C0035', 'C0045', 'C0050'], undefined, [['Are wheel speed sensors easy to replace?', 'Usually yes — they bolt to the wheel hub or knuckle. One bolt and one connector.'], ['Can a bad wheel bearing cause this?', 'Yes — a worn wheel bearing can cause the tone ring to wobble, giving erratic speed sensor readings.']]),

c('C0050', 'Right Rear Wheel Speed Sensor Circuit', 'Right rear wheel speed sensor signal lost.', 'medium', 'Chassis/Brakes', ['ABS light', 'Traction control off'], [['Failed sensor', 'likely'], ['Wiring damage', 'likely']], ['Inspect sensor', 'Check wiring along axle', 'Replace sensor'], 'Replace wheel speed sensor', '$20 - $60', ['C0035', 'C0040', 'C0045'], undefined, [['Why do rear sensors fail?', 'Rear sensors are exposed to road spray, salt, and debris. Wiring runs along the axle and can be damaged.'], ['Will this affect my brakes?', 'Normal brakes work fine. Only ABS, traction control, and stability control are affected.']]),

c('C0236', 'Rear Wheel Speed Sensor Signal Erratic', 'ABS module detects erratic signals from a rear wheel speed sensor.', 'medium', 'Chassis/Brakes', ['ABS light on', 'ABS activating at low speed', 'Traction control intervening unexpectedly'], [['Contaminated tone ring', 'likely'], ['Worn wheel bearing', 'possible'], ['Damaged sensor', 'possible']], ['Clean tone ring and sensor', 'Check wheel bearing play', 'Replace sensor if cleaning fails'], 'Clean tone ring or replace sensor', '$0 - $60', ['C0050', 'C0035'], 'wheel-bearing-replacement', [['Can a dirty tone ring cause false ABS activation?', 'Yes — debris on the tone ring creates signal irregularities that the ABS interprets as wheel lock, causing premature activation.'], ['How do I check the tone ring?', 'Remove the wheel and brake components. Inspect the toothed ring for damage, rust, or debris buildup.']]),

// ═══ U-CODES (NETWORK/COMMUNICATION) ═══
c('U0100', 'Lost Communication with ECM/PCM', 'A module has lost CAN bus communication with the engine control module.', 'high', 'Network/Communication', ['Multiple warning lights', 'No start', 'Various systems not working', 'Scan tool cannot connect to ECM'], [['CAN bus wiring issue', 'likely'], ['Faulty ECM', 'possible'], ['Blown ECM fuse', 'possible'], ['Corroded connector', 'possible']], ['Check ECM fuses', 'Check CAN bus wiring', 'Inspect ECM connectors', 'Test CAN bus communication'], 'Repair CAN bus wiring or replace ECM', '$0 - $800', ['U0101', 'U0073', 'P0600'], undefined, [['What is the CAN bus?', 'CAN bus is the communication network that lets all vehicle modules (ECM, TCM, ABS, etc.) talk to each other.'], ['Can a loose connector cause U0100?', 'Yes — a corroded or loose connector at the ECM is a common cause. Check all ECM connectors first.']]),

c('U0101', 'Lost Communication with TCM', 'Communication lost between the ECM and transmission control module.', 'high', 'Network/Communication', ['Transmission warning light', 'No shifting or limp mode', 'Check engine light', 'Multiple codes'], [['CAN bus wiring fault', 'likely'], ['Failed TCM', 'possible'], ['TCM fuse blown', 'possible']], ['Check TCM fuses', 'Inspect CAN bus wiring', 'Check TCM connectors'], 'Repair wiring or replace TCM', '$0 - $600', ['U0100', 'P0700'], undefined, [['Will my car shift without the TCM?', 'The transmission enters limp mode — usually stuck in 3rd gear. Driveable but with limited function.'], ['Can water damage the TCM?', 'Yes — on some vehicles the TCM is mounted low and can be damaged by flooding or deep water.']]),

c('U0073', 'Control Module Communication Bus Off', 'The entire CAN bus network has stopped communicating. Major system failure.', 'critical', 'Network/Communication', ['Multiple warning lights', 'No start', 'All gauges dead', 'No scan tool communication'], [['CAN bus wiring short or open', 'likely'], ['Failed module pulling bus down', 'possible'], ['Water damage to wiring', 'possible']], ['Check CAN H and CAN L wiring', 'Unplug modules one at a time to find the one pulling the bus down', 'Check for water intrusion', 'Inspect main wiring harness'], 'Repair CAN bus wiring', '$50 - $500', ['U0100', 'U0101', 'U0001'], undefined, [['What causes the entire CAN bus to fail?', 'Usually a shorted wire or a failed module that pulls the entire bus voltage to ground. Water damage is another common cause.'], ['How do I diagnose a CAN bus issue?', 'Measure CAN H and CAN L voltages with a multimeter. They should be ~2.5V and ~2.5V (inverted). If both are at 0V or 5V, there is a short.']]),

c('U0140', 'Lost Communication with Body Control Module', 'Communication lost with the BCM, which controls lights, locks, windows, and other body functions.', 'medium', 'Network/Communication', ['Interior lights not working', 'Power windows/locks inoperative', 'Alarm issues', 'Multiple warning lights'], [['BCM fuse blown', 'likely'], ['CAN bus wiring issue', 'possible'], ['Failed BCM', 'possible']], ['Check BCM fuses', 'Inspect BCM connector', 'Check CAN bus wiring to BCM'], 'Repair wiring or replace BCM', '$0 - $400', ['U0100', 'U0073', 'B1318'], undefined, [['What does the BCM control?', 'The Body Control Module manages interior lights, power windows, door locks, wipers, alarm system, and other body electronics.'], ['Can I drive with a failed BCM?', 'The engine usually runs, but many comfort features will not work. Headlights and wipers may be affected — exercise caution.']]),

c('U1000', 'Class 2 Communication Malfunction', 'General CAN bus communication error. Often manufacturer-specific.', 'medium', 'Network/Communication', ['Check engine light', 'Various warning lights', 'Intermittent electrical issues'], [['Loose module connector', 'likely'], ['CAN bus wiring damage', 'possible'], ['Module failure', 'possible']], ['Check all module connectors', 'Scan all modules for codes', 'Check CAN bus wiring'], 'Repair connection or wiring', '$0 - $300', ['U0100', 'U0073'], undefined, [['Is U1000 a Nissan-specific code?', 'U1000 is very common on Nissans and means the CAN bus had a communication glitch. Often caused by a weak battery or loose connector.'], ['Can a battery change fix U1000?', 'Sometimes yes — low battery voltage can cause CAN bus errors. A new battery or terminal cleaning often resolves it.']]),
];

export const DTC_CODES_MAP = new Map<string, DTCCode>(
    DTC_CODES.map(c => [c.code, c])
);

export const DTC_SYSTEMS: string[] = [...new Set(DTC_CODES.map(c => c.affectedSystem))].sort();

export function getCodesBySystem(system: string): DTCCode[] {
    return DTC_CODES.filter(c => c.affectedSystem === system);
}
